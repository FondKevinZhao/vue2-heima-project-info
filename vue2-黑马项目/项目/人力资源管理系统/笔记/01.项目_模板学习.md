# Day01_æ¨¡æ¿å­¦ä¹ 

## é¢„ä¹ è‡ªæµ‹-å¿…é¡»

æŠŠ`vue-admin-template`è¿™ä¸€ä¸ªæ¨¡æ¿é¡¹ç›®å…‹éš†ä¸‹æ¥(çœ‹02èŠ‚å†…å®¹-æŒ‰ç…§æ­¥éª¤æ¥)

çœ‹çœ‹npm installå, æ˜¯å¦èƒ½å¯åŠ¨æˆåŠŸ

## é¡¹ç›®ä»‹ç»

å®Œæ•´é¢„è§ˆæ•ˆæœï¼š[äººåŠ›èµ„æºå¹³å°é¡¹ç›®](http://ihrm.itheima.net/#/login)

é¡¹ç›®åŠŸèƒ½æ¨¡å—åˆ’åˆ†:



â€‹							<img src="./images/Day01/001-é¡¹ç›®ä»‹ç».png" style="zoom:80%;" />



1. æŠ€æœ¯æ ˆï¼š **vue-admin-template  äºŒæ¬¡å¼€å‘**

   > ES6, vue, vuex, vue-router, vue-cli, axios, element-ui

2. æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼š
   - RBAC æƒé™è®¾è®¡

     > RBAC: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æƒé™çš„åŸºæœ¬æ¨¡å‹

   - å¤šè¯­è¨€

   - Excel å¯¼å…¥å¯¼å‡º

   - åå‘ä»£ç†

   - è¯·æ±‚æ¨¡å—å°è£…

   - ...



## 01.vue-element-admin-ä»‹ç»

### ç›®æ ‡

å…¬å¸é¡¹ç›®æå€¡ â€œå°æ­¥å¿«è·‘ï¼Œå¿«é€Ÿè¿­ä»£â€ çš„æ•æ·å¼€å‘æ¨¡å¼

* ä¼ ç»Ÿå¼€å‘ï¼šé—­å…³ä¸‰å¹´ï¼Œæ½œå¿ƒä¿®ç‚¼ï¼Œç²¾ç›Šæ±‚ç²¾ï¼Œäº§å“æ¨ªç©ºå‡ºä¸–

* æ•æ·å¼€å‘ï¼šä¸è¿½æ±‚å‰æœŸå®Œç¾çš„è®¾è®¡ã€å®Œç¾ç¼–ç ï¼Œ'æœ€å¿«é€Ÿåº¦'å®Œæˆæ ¸å¿ƒåŠŸèƒ½(æŠ¢å å¸‚åœº)

  > åç»­ä¸æ–­è¿­ä»£å‡çº§ï¼Œå®Œå–„äº§å“



ğŸ˜€â“  æ€ è€ƒï¼šä»0åˆ›å»ºæ ‡ç­¾å’Œæ ·å¼, æ…¢æ…¢èµ°?

* ä½¿ç”¨ElementUIç­‰ç»„ä»¶åº“

  > ä½†ä¹Ÿå¾—è‡ªå·±ä¸€ç‚¹ç‚¹ç»„è£…, è¿˜æ˜¯æ…¢



### è®²è§£

åŸºäº vue æŠ€æœ¯æ ˆçš„**æ•°æ®ç®¡ç†ç³»ç»Ÿ** è§£å†³æ–¹æ¡ˆ **vue-element-admin**

ä»‹ç»:  [vue-element-admin](https://panjiachen.gitee.io/vue-element-admin-site/zh/) æ˜¯ä¸€ä¸ª**æ•°æ®ç®¡ç†ç³»ç»Ÿ**çš„å‰ç«¯è§£å†³æ–¹æ¡ˆ(ä¸€ä¸ªæ¨¡æ¿)

* å®ƒåŸºäº vue å’Œ element-uiå®ç°
* å†…ç½®äº†å›½é™…åŒ–è§£å†³æ–¹æ¡ˆ(å¤šè¯­è¨€) 
* åŠ¨æ€è·¯ç”±ï¼Œæƒé™éªŒè¯ï¼Œæç‚¼äº†å…¸å‹çš„ä¸šåŠ¡æ¨¡å‹



å®˜ç½‘åœ°å€ï¼š[vue-element-admin](https://panjiachen.gitee.io/vue-element-admin-site/zh/)

åœ¨çº¿æµè§ˆï¼š[vue-element-admin](https://panjiachen.github.io/vue-element-admin/#/dashboard)

gitåœ°å€: [gitåœ°å€](https://gitee.com/mirrors/vue-element-admin.git)



è¿è¡Œä½“éªŒ

```bash
# ä»ç äº‘æ‹‰å–ä»£ç  
git clone https://gitee.com/mirrors/vue-element-admin.git

# åˆ‡æ¢åˆ°å…·ä½“ç›®å½•ä¸‹
cd vue-admin-template

# å®‰è£…æ‰€æœ‰ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘è°ƒè¯•æ¨¡å¼  æŸ¥çœ‹package.jsonæ–‡ä»¶çš„scriptså¯çŸ¥æ™“å¯åŠ¨å‘½ä»¤
npm run dev
```



**`æ³¨æ„`**ï¼šå¦‚æœgit clone é€Ÿåº¦è¿‡æ…¢æˆ–è€…æŠ¥é”™ï¼Œå¯ä»¥ï¼šç›´æ¥ä¸‹è½½ä»£ç çš„å‹ç¼©åŒ…è¿è¡Œï¼Œ[vue-element-admin ä»“åº“](https://gitee.com/panjiachen/vue-admin-template)

`æ³¨æ„`: å¦‚æœnpm install æŠ¥é”™, å¯ä»¥è¿™æ ·è§£å†³

```js
åŸå› : è™½ç„¶å…‹éš†åœ°å€æ˜¯gitee.comçš„, ä½†æ˜¯npm i å®‰è£…ä¾èµ–åŒ…çš„æ—¶å€™, æœ‰ä¸ªåŒ…å®ƒç«Ÿç„¶å¼•ç”¨äº†github.comä¸Šçš„ä¸€ä¸ªåœ°å€(è¿™å°±éœ€è¦ä½ é™¤äº†giteeè¿˜è¦é…ç½®githubç§˜é’¥, æ¯”è¾ƒéº»çƒ¦)   
è§£å†³: ç›´æ¥ä½¿ç”¨è€å¸ˆçš„node_modulesæ–‡ä»¶å¤¹, æ”¾åˆ°å·¥ç¨‹æ ¹ç›®å½•, è§£å‹. å°±ä¸ç”¨npm iä¸‹è½½äº†. 
```





å¯åŠ¨è¿è¡Œç™»å½•åé¦–é¡µæ•ˆæœ



<img src="./images/Day01/002-é¡¹ç›®é¢„è§ˆ.png" style="zoom:80%;width:100%;" />



### å°ç»“

1. ä»€ä¹ˆæ˜¯vue-element-admin?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>åŸºäºvueå’ŒelementUIçš„ä¸€å¥—åŸºç¡€ç»“æ„é¡¹ç›®</li>
   </ul>
   </details>



## 02.vue-admin-template ä»‹ç»

### ç›®æ ‡

ä»€ä¹ˆæ˜¯ vue-admin-template 



###   è®²è§£

ä¹‹å‰çš„vue-element-admin ç¼ºç‚¹ï¼šä¸å¤ªå¥½è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œå› ä¸ºè¦åˆ å‡çš„ä¸œè¥¿å¤ªå¤š

é‡‡å–å¦å¤–ä¸€ä¸ªå­ç³»ç»Ÿï¼Œå«åš `vue-admin-template` ï¼Œå®ƒæä¾›æœ€åŸºç¡€çš„æ¨¡æ¿ï¼Œæ–¹ä¾¿åšäºŒæ¬¡å¼€å‘

ä¹ŸåŒ…å«äº† **ç™»å½• / é‰´æƒ / ä¸»é¡µå¸ƒå±€** çš„ä¸€äº›åŸºç¡€åŠŸèƒ½æ¨¡æ¿



å®˜ç½‘åœ°å€ï¼š [vue-admin-template ](https://github.com/PanJiaChen/vue-admin-template)

åœ¨çº¿æµè§ˆï¼š[vue-admin-template ](https://panjiachen.gitee.io/vue-admin-template/#/login?redirect=%2Fdashboard)

å­¦ä¹ æ–‡æ¡£:  https://juejin.cn/post/6844903476661583880



#### è¿è¡Œä½“éªŒ

```bash
# ä»ç äº‘æ‹‰å–ä»£ç  
git clone https://gitee.com/panjiachen/vue-admin-template.git

# åˆ‡æ¢åˆ°å…·ä½“ç›®å½•ä¸‹
cd vue-admin-template

# å®‰è£…æ‰€æœ‰ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘è°ƒè¯•æ¨¡å¼  æŸ¥çœ‹package.jsonæ–‡ä»¶çš„scriptså¯çŸ¥æ™“å¯åŠ¨å‘½ä»¤
npm run dev
```



å¦‚æœnpm install æ€»æ˜¯å‡ºé”™ï¼Œçœ‹[å®˜ç½‘è¯´æ˜](https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/other/faq.html#npm-install-%E6%80%BB%E6%98%AF%E5%A4%B1%E8%B4%A5%EF%BC%9F)

æˆ–è€…çœ‹æœ¬ç¬”è®°æœ€ä¸‹æ–¹çš„**å¸¸è§æŠ¥é”™è¯´æ˜**



é¢„è§ˆæ•ˆæœå¦‚ä¸‹



<img src="./images/Day01/003-adminé¡¹ç›®_é¢„è§ˆ.png" style="zoom:80%;" />

<img src="./images/Day01/004-adminé¡¹ç›®_é¢„è§ˆ2.png" style="zoom:80%;" />



### å°ç»“

1. ä¸ºä½•åˆä½¿ç”¨vue-admin-templateè¿™ä¸ªæ¨¡æ¿é¡¹ç›®?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>vue-element-adminæ¯”è¾ƒå¤æ‚è¦åˆ å‡ä¸œè¥¿å¾ˆå¤š</li>
   <li>vue-admin-templateåªç•™ä¸‹äº†æœ€å…³é”®çš„æ¨¡æ¿ä»£ç </li>
   </ul>
   </details>



## 03.æ¨¡æ¿è®²è§£-å¥—è·¯ä»‹ç»

### ç›®æ ‡

æ‹¿åˆ°ä¸€ä¸ªé¡¹ç›®, æ¨¡æ¿é¡¹ç›®/ä»¥åå…¬å¸é¡¹ç›®/ä»»ä½•åˆ«äººå†™çš„é¡¹ç›®, å¦‚ä½•è¯»

### è®²è§£

1. æ— è®ºå¦‚ä½•è¦æŠŠé¡¹ç›®å¯åŠ¨èµ·æ¥, æœ€å¥½æ˜¯èƒ½çœ‹åˆ°ç”»é¢(å¦‚æœé¡¹ç›®éƒ½å¯åŠ¨ä¸èµ·æ¥, é‚£ä½ è¦æ‹¿å‡ºä½ çš„åšè„¸çš®. æ‰¾åˆ°ä¸€åˆ‡èƒ½å›¢ç»“çš„åŠ›é‡, èµäºˆé¡¹ç›®åŠ›é‡å§)

   > æ¯ä¸ªå…¬å¸çš„é¡¹ç›®ç¯å¢ƒéƒ½ä¸å¤ªä¸€æ ·, åªæœ‰å…¬å¸è‡ªå·±äººæ‰æœ€ç†Ÿæ‚‰å…¬å¸çš„é¡¹ç›®ç¯å¢ƒ(å¯èƒ½æœ‰äº›åŒ…æ˜¯å†…éƒ¨çš„, npmé•œåƒä»æ·˜å®æ˜¯ä¸‹ä¸åˆ°çš„, éœ€è¦ä¿®æ”¹npmé•œåƒåœ°å€ä¸ºå…¬å¸å†…éƒ¨çš„ipåœ°å€, ç­‰ç­‰å…¶ä»–æƒ…å†µ)
   >
   > é¡¹ç›®å¯åŠ¨ä¸èµ·æ¥, å¯ä»¥é€‚å½“çš„é—®ä¸‹åŒç»„åŒäº‹

2. å¯ä»¥å…ˆä»é¡¹ç›®çš„å…¥å£æ–‡ä»¶å¼€å§‹è¯», å¦‚æœæ‰¾ä¸åˆ°å“ªä¸ªæ˜¯å…¥å£, å°±ä»å¤´æŒ¨ä¸ªæ–‡ä»¶è¯», ç»˜åˆ¶ä»£ç åœ°å›¾(ä»»æ„å·¥å…·, process.onæˆ–è€…å…¶ä»–è½¯ä»¶. æˆ–è€…ç¬”å’Œçº¸éƒ½å¯ä»¥)

   > æ¯ä¸ªå…¬å¸çš„æ¨¡æ¿æœ‰çš„ç”¨çš„å®˜æ–¹çš„, æœ‰çš„æ˜¯åŸºäºå®˜æ–¹çš„è¿›è¡ŒäºŒæ¬¡å°è£…ä¿®æ”¹(ä¸€èˆ¬å…¥å£main.js)
   >
   > ä½†æ˜¯æœ‰äº›å…¬å¸è‡ªå·±å¤§ä½¬åˆ›å»ºè„šæ‰‹æ¶ç¯å¢ƒ, å…¥å£å¯èƒ½ä¸å†main.js (new Vue)-> ä¸ä¸€å®šæ˜¯ç»å¯¹çš„
   >
   > å‡å¦‚å…¥å£çœŸçš„æ²¡æ‰¾åˆ°, ä»å¤´æŒ¨ä¸ªæ–‡ä»¶è¯», ç„¶åæ‰¾å…¥å£

3. é¡¹ç›®è‡³å°‘è¯»2-3é, æ‰èƒ½æ˜ç™½å…¶ä¸­çš„æ–‡ä»¶æ¶æ„å’Œå°è£…çš„å·¥å…·

   > è¿›å…¬å¸, å…¬å¸ä¼šç»™ä½ 1-3å¤©ç”šè‡³5-7å¤©, è®©ä½ ç†Ÿæ‚‰ä¸‹é¡¹ç›®
   >
   > æ‹‰å–é¡¹ç›®ä»£ç , éœ€æ±‚æ–‡æ¡£, æ¥å£æ–‡æ¡£, æŠŠè‡ªå·±å˜æˆå‰ä»»å‰ç«¯æ”»åŸç‹®, ä»£ç ç†Ÿæ‚‰ç†Ÿæ‚‰
   >
   > æ‰èƒ½åœ¨è¿™ä¸ªé¡¹ç›®çš„åŸºç¡€ä¸Š, ä¿®æ”¹å’Œå¼€å‘

4. ä¸‹é¢æˆ‘ä»¬å¼€å§‹è®²è§£

   > æ‰“å°å˜é‡ / çœ‹å˜é‡åçŒœ / è”æƒ³ä¸Šä¸‹æ–‡ / ....æœ‰ç‚¹åƒçœ‹é˜…è¯»ç†è§£
   >
   > æ‰¾ä¸åˆ°æ ‡ç­¾/æ ·å¼, è®¾ç½®ä¸ªé¢œè‰²çœ‹çœ‹?
   >
   > æ ‡ç­¾å¯¹ä¸ä¸Š, æ”¹ä¸ªæ–‡å­—çœ‹çœ‹å˜ä¸å˜
   >
   > å˜é‡ä¸çŸ¥é“åœ¨å“ªé‡Œç”¨è¿‡, å¯ä»¥ç”¨vscodeæ”¾å¤§é•œ, å…¨å±€æŸ¥æ‰¾

### å°ç»“

1. æ‹¿åˆ°å…¬å¸é¡¹ç›®ä»¥åæˆ‘ä»¬è¦åšä»€ä¹ˆ?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>é¦–å…ˆ, å…ˆå…‹éš†æ‹¿åˆ°å…¬å¸çš„å·¥ç¨‹ä»£ç , ç„¶åå®‰è£…ä¾èµ–, å¯åŠ¨é¡¹ç›®</li>
   <li>åŸƒä¸ªæ–‡ä»¶å’Œæ–‡ä»¶å¤¹é˜…è¯»ä»£ç , ç„¶åé€è¡Œå†™æ³¨é‡Š, å°½å¿«æŠŠæ•´ä¸ªå·¥ç¨‹é¡¹ç›®ææ˜ç™½</li>
   </ul>
   </details>
   
   



## 04.æ¨¡æ¿è®²è§£-api

### ç›®æ ‡

ç†è§£ api æ¨¡å—çš„æ–¹æ³•

### è®²è§£

#### ç›®å½•åˆ†æ

å°†æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚**æ–¹æ³•**æ”¾åœ¨ api ç›®å½•ä¸‹ç»Ÿä¸€ç®¡ç†ï¼ŒæŒ‰ç…§æ¨¡å—æ¥åˆ’åˆ†å¯¹åº”çš„æ–‡ä»¶

#### ä»£ç åˆ†æ

api/table.jsè®²è§£

```js
import request from '@/utils/request' // å¯¼å…¥è¯·æ±‚å‡½æ•°

/**
 * è·å– - è¡¨æ ¼ - æ•°æ®åˆ—è¡¨
 * @param {*} params å‚æ•° 
 * @returns Promiseå¯¹è±¡
 */
export function getList(params) { 
  // çŸ¥è¯†ç‚¹1: axioså‡½æ•°è°ƒç”¨, åœ¨åŸåœ°è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡(å†…éƒ¨åŒ…è£¹ajaxè¯·æ±‚)
  // çŸ¥è¯†ç‚¹2: returnåé¢å€¼, ä¼šè¿”å›åˆ°å½“å‰å‡½æ•°getListè°ƒç”¨çš„åœ°æ–¹(å¯é€šè¿‡æ”¾å¤§é•œæŸ¥æ‰¾)
  // è°ƒç”¨axiosæŒ‡å®šè¯·æ±‚çš„åœ°å€å’Œæ–¹å¼, å‘èµ·è¯·æ±‚
  return request({ 
    url: '/vue-admin-template/table/list',
    method: 'get',
    params
  })
}
```



api/users.jsè®²è§£

```js
import request from '@/utils/request'

// JSDOCæ³¨é‡Š, å†™ä»£ç çš„æ—¶å€™vscodeä¼šç»™ä½ æç¤º
// å°è£…å·¥å…·å‡½æ•°å¯ä»¥ç”¨è¿™ç§æ³¨é‡Š-å¿…é¡»æŒ¨ç€ä»£ç 

/**
 * ç™»å½•
 * @param {*} data è¯·æ±‚å‚æ•°
 * @returns Promiseå¯¹è±¡
 */
export function login(data) {
  return request({
    url: '/vue-admin-template/user/login',
    method: 'post',
    data
  })
}

/**
 * è·å– - ç”¨æˆ·ä¿¡æ¯
 * @param {*} token tokenå­—ç¬¦ä¸²(ç™»å½•æ—¶-ç”±åå°è¿”å›çš„)
 * @returns Promiseå¯¹è±¡
 */
export function getInfo(token) {
  return request({
    url: '/vue-admin-template/user/info',
    method: 'get',
    params: { token }
  })
}

/**
 * é€€å‡ºç™»å½•
 * @returns Promiseå¯¹è±¡
 */
export function logout() {
  return request({
    url: '/vue-admin-template/user/logout',
    method: 'post'
  })
}

```

ä¸Šé¢ä»£ç ä¸­ä½¿ç”¨äº†å°è£…çš„requestå·¥å…·ï¼Œæ¯ä¸ªæ¥å£çš„è¯·æ±‚éƒ½å•ç‹¬**`å¯¼å‡º`**äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ï¼š

1.  æ¯ä¸ªapi/jsæ–‡ä»¶ï¼Œå¯¹åº”ä¸šåŠ¡æ‰€æœ‰æ¥å£ï¼Œæ¸…æ™°æ˜äº†ï¼ŒæŸ¥æ‰¾æ–¹ä¾¿ 
2.  ä¸šåŠ¡é¡µé¢ä¸­ï¼Œä½¿ç”¨å“ªä¸ªæ¥å£ç›´æ¥å¯¼å…¥å³å¯
3.  è¯­ä¹‰åŒ–æ¸…æ™°ï¼Œç»´æŠ¤æ–¹ä¾¿
4.  åˆ†å·¥åˆä½œ



### å°ç»“

1. ä»¥åæ‰¾æ¥å£ï¼Œä¿®æ”¹æˆ–å¢åŠ æ¥å£, æˆ‘ä»¬è¯¥å¦‚ä½•åš?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>éƒ½åœ¨apiæ–‡ä»¶å¤¹, å®šä¹‰ç›¸åº”æ–‡ä»¶, ç»Ÿä¸€ç®¡ç†</li>
   </ul> 
   </details>

2. apiæ¥å£æ–¹æ³•, éœ€è¦ä¼ å…¥ä»€ä¹ˆ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>æ–¹æ³•å†…æœ‰è¯·æ±‚æ‰§è¡Œ, è€Œurlå’Œæ–¹å¼åœ¨å†…éƒ¨, æˆ‘ä»¬åªéœ€è¦ä¼ å‰ç«¯é¡µé¢æ”¶é›†çš„å‚æ•°</li>
   </ul> 
   </details>

3. apiæ¥å£æ–¹æ³•, ä¼šè¿”å›ä»€ä¹ˆ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>æœ¬é¡¹ç›®ä¸­requestå†…æ˜¯, åŸºäºaxiosè¿›è¡Œçš„äºŒæ¬¡å°è£…, è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡åˆ°é€»è¾‘é¡µé¢è°ƒç”¨å¤„</li>
   </ul> 
   </details>

4. åœ¨è°ƒç”¨æ¥å£æ–¹æ³•æ—¶, å¦‚ä½•æ‹¿åˆ°æˆåŠŸ/å¤±è´¥ç»“æœ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>åœ¨é€»è¾‘é¡µé¢, æˆ‘ä»¬å¯ä»¥ç”¨awaitæˆ–è€…thenæ¥æå–æˆåŠŸçš„ç»“æœ, ç”¨try+catch/.catchæ–¹æ³•æ¥æ‹¿åˆ°å¤±è´¥ç»“æœ</li>
   </ul> 
   </details>



## 05.æ¨¡æ¿è®²è§£-icons

### ç›®æ ‡

äº†è§£ Icons æ–‡ä»¶çš„ç»„ç»‡

### è®²è§£

#### Icons æ–‡ä»¶çš„ç»„ç»‡æ–¹å¼



â€‹					<img src="./images/Day01/005-iconsç»„ç»‡æ–¹å¼.png" style="zoom:100%;" />

æŸ¥çœ‹ icons ä¸‹çš„ index.js æ–‡ä»¶

> å°† svg ç›®å½•ä¸‹æ‰€æœ‰çš„ svg æ–‡ä»¶å…¨éƒ¨å¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”æŒ‚è½½ä¸ºå…¨å±€çš„ç»„ä»¶è¿›è¡Œä½¿ç”¨

```js
import Vue from 'vue' // å¼•å…¥Vue
import SvgIcon from '@/components/SvgIcon'// ç”¨div/svg+use, æ¥æ¸²æŸ“å›¾æ ‡ç»„ä»¶

// å…¨å±€æ³¨å†Œsvg-iconç»„ä»¶
Vue.component('svg-icon', SvgIcon)

// ç‰¹åˆ«éš¾(äº†è§£)-ä¸ç”¨ç¡¬è¯»
// require: commonJSè§„èŒƒé‡Œå¼•å…¥çš„è¯­æ³•
// require.context() è‡ªåŠ¨å¯¼å…¥æ–‡ä»¶å¤¹ä¸‹çš„ä¸€åˆ‡æ–¹æ³•
// require.context('./svg', false, /\.svg$/) å¯¼å…¥svgæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ä»¥.svgç»“å°¾çš„æ–‡ä»¶->ä»£ç ç¯å¢ƒä¸­
// falseä»£è¡¨å¦‚æœé‡Œé¢æœ‰å­ç›®å½•, ä¸ç®¡
const req = require.context('./svg', false, /\.svg$/)
// è¿”å›äº†ä¸€ä¸ªå‡½æ•°->webpackContext
// çŸ¥è¯†ç‚¹1: å‡½æ•°(æ–¹æ³•)ä¹Ÿæ˜¯å¯¹è±¡å¯ä»¥ç‚¹å±æ€§å’Œæ–¹æ³•
// çŸ¥è¯†ç‚¹2: mapé‡Œå¯ä»¥ç›´æ¥å†™functionä¹Ÿå¯ä»¥æ”¾ä¸€ä¸ªå˜é‡(å‡½æ•°ä½“)
const requireAll = requireContext => {
  console.log(requireContext.keys()) // ['./dashboard.svg', './example.svg', './eye-open.svg', './eye.svg', './form.svg', './link.svg', './nested.svg', './password.svg', './table.svg', './tree.svg', './user.svg']
  // requireContext.keys().map() -> éå†æ¯ä¸ªsvgæ–‡ä»¶çš„è·¯å¾„
  // å‡½æ•°å¼ç¼–ç¨‹: æŠŠä¸€ä¸ªå›è°ƒå‡½æ•°ä½“, ç›´æ¥æ”¾åˆ°mapé‡Œæ‰§è¡Œäº†->reqå‡½æ•°webpackContext
  return requireContext.keys().map(requireContext) // éå†çš„åŒæ—¶,ç”¨reqå‡½æ•°å†…webpackçš„requireå¼•å…¥svgæ–‡ä»¶åˆ°é¡¹ç›®å·¥ç¨‹é‡Œ
}
requireAll(req)


// è¿™å—ä»£ç æ„æ€å¯ä»¥çœ‹è¿™é‡Œ: https://juejin.cn/post/6844903517564436493#heading-9

```



### å°ç»“

1. ä»¥åé¡¹ç›®ä¸­ï¼Œä½¿ç”¨ iconsï¼Œåº”è¯¥æ”¾åˆ°å“ªä¸ªæ–‡ä»¶å¤¹, æ”¾ä»€ä¹ˆç±»å‹æ–‡ä»¶ ï¼Ÿ

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>ä¹Ÿæ”¾å…¥.svgå›¾æ ‡æ–‡ä»¶, æ”¾åˆ°iconsæ–‡ä»¶å¤¹ä¸‹</li>
   </ul>
   </details>





## 06.æ¨¡æ¿è®²è§£-layout

### ç›®æ ‡

åˆ†æè¿™ä¸ªæ–‡ä»¶æœ‰ä»€ä¹ˆä½œç”¨

### è®²è§£

è¿™ä¸ªæ–‡ä»¶, æ˜¯é¡¹ç›®ç™»å½•ä»¥å, è§åˆ°çš„å¸ƒå±€çš„æ¡†, å·¦ä¾§å¯¼èˆª, ä¸Šéƒ¨å¯¼èˆªå’Œä¸‹ä¸çš„å†…å®¹éƒ¨åˆ†

```vue
<template>
  <!-- layoutå¸ƒå±€é¡µé¢(å·¦è¾¹å’Œä¸Šé¢) -->
  <div :class="classObj" class="app-wrapper">
    <!-- ç°è‰²è’™å±‚: åœ¨ç§»åŠ¨ç«¯ä¸‹, åˆ‡æ¢å·¦ä¾§å¯¼èˆª, ä¼šå‡ºç°
      sidebar.opened -> ä¾§è¾¹æ å¯¼èˆªå‡ºç°(å€¼æ¥è‡ªvuexçš„sidebar.js)
      ç‚¹å‡»è’™å±‚å…³é—­->è®¾ç½®(openedä¸ºfalse, æœ¬åœ°è¿˜å­˜ä¸ª0)
     -->
    <div v-if="device==='mobile' && sidebar.opened" class="drawer-bg" @click="handleClickOutside" />
    <!-- å·¦ä¾§ä¾§è¾¹æ ç»„ä»¶ -->
    <sidebar class="sidebar-container" />
    <!-- å³ä¾§å®¹å™¨ -->
    <div class="main-container">
      <!-- å¤´éƒ¨æ˜¯å¦å›ºå®š(åœ¨@/settingså¯ä»¥è®¾ç½®, ä½†æ˜¯åœ¨vuexé‡Œå–å‡º)->ç°åœ¨falseä¸å›ºå®š -->
      <div :class="{'fixed-header':fixedHeader}">
        <!-- å¤´éƒ¨å¯¼èˆªç»„ä»¶ -->
        <navbar />
      </div>
      <!-- ä¸»ä½“å†…å®¹åŒºåŸŸ -->
      <app-main />
    </div>
  </div>
</template>

<script>
import { Navbar, Sidebar, AppMain } from './components' // å¤´éƒ¨å¯¼èˆª, å·¦ä¾§å¯¼èˆª, å³ä¸‹è§’ä¸»ä½“
import ResizeMixin from './mixin/ResizeHandler' // æ··å…¥å¯¹è±¡, å…¬å…±çš„ä¸œè¥¿æ³¨å…¥

export default {
  name: 'Layout',
  components: {
    Navbar,
    Sidebar,
    AppMain
  },
  mixins: [ResizeMixin], // æ··å…¥å…¶ä»–é…ç½®é¡¹, æ­¤ç»„ä»¶åˆ›å»ºå°±ä¼šæ‰§è¡Œæ··å…¥é‡Œçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
  computed: {
    // è¿”å›å·¦ä¾§å¯¼èˆªæ§åˆ¶å¯¹è±¡
    sidebar() {
      return this.$store.state.app.sidebar
    },
    // è¿”å›å½“å‰è®¾å¤‡ç±»å‹å€¼
    device() {
      return this.$store.state.app.device
    },
    // è¿”å›å¤´éƒ¨æ˜¯å¦å›ºå®š
    fixedHeader() {
      return this.$store.state.settings.fixedHeader
    },
    // è¿”å›classå¯¹è±¡(layouté¡µé¢ç”¨çš„æ ·å¼)
    classObj() {
      return {
        hideSidebar: !this.sidebar.opened, // å·¦ä¾§å¯¼èˆªæ ·å¼æ˜¯å¦ç”Ÿæ•ˆ(å‰ç¼€ç±»å, åªæœ‰fixedHeaderä¸ºtrueæ‰æœ‰æ•ˆ)
        openSidebar: this.sidebar.opened, // ç§»åŠ¨ç«¯->å·¦ä¾§å¯¼èˆªå¼€å¯ä¸ºtrue, æ•´ä½“å†…å®¹éƒ¨åˆ†å®šä½
        withoutAnimation: this.sidebar.withoutAnimation, // æ˜¯å¦éœ€è¦åŠ¨ç”»(å¯ä»¥è‡ªå®šä¹‰æ­¤ç±»åç›¸å…³å…·ä½“css)
        mobile: this.device === 'mobile'
      }
    }
  },
  methods: {
    handleClickOutside() {
      this.$store.dispatch('app/closeSideBar', { withoutAnimation: false })
    }
  }
}
</script>
```



### å°ç»“

1. æ­¤æ–‡ä»¶æœ‰å’Œä½œç”¨, å¯¹åº”é¡µé¢å“ªéƒ¨åˆ†?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>è¿™ä¸ªlayoutå¸ƒå±€é¡µé¢, åŒ…å«å·¦ä¾§å¯¼èˆª, é¡¶éƒ¨å¯¼èˆªå’Œä¸‹è¾¹çš„App-Mainä¸»ä½“åŒºåŸŸ</li>
   </ul> 
   </details>



## 07.æ¨¡æ¿è®²è§£-router/index.js

### ç›®æ ‡

åˆ†æè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„ä¸€åˆ‡æ–‡ä»¶

### è®²è§£

router/index.js - æ–‡ä»¶ä¸»è¦å†…å®¹è®²è§£

```js
import Vue from 'vue'
import Router from 'vue-router'

// ç»™Vueæ·»åŠ ä¸­é—´ä»¶å‡½æ•°(æ’ä»¶)
// çŸ¥è¯†ç‚¹: æ‰§è¡Œ()é‡Œä¸œè¥¿
// æƒ…å†µ1: ()é‡Œå‡½æ•°, ç›´æ¥æ‰§è¡ŒRouteré‡Œçš„ä¸€åˆ‡
// æƒ…å†µ2: ()é‡Œå¯¹è±¡, æ‰§è¡Œå¯¹è±¡installæ–¹æ³•å†…çš„ä¸€åˆ‡
// å…¨å±€æ³¨å†ŒRouterViewå’ŒRouterLinkç»„ä»¶
// ç»™VueåŸå‹ä¸Šæ·»åŠ $routerå’Œ$route2ä¸ªå±æ€§
Vue.use(Router)

/* Layout */
import Layout from '@/layout'


// çŸ¥è¯†ç‚¹1: è·¯ç”±æ˜¯ä¸€å¥—æ˜ å°„å…³ç³»
// pathè·¯å¾„å¯¹åº”componentç»„ä»¶çš„æ˜ å°„å…³ç³»
// æ•ˆæœ: ä½ åˆ‡æ¢æµè§ˆå™¨ä¸Šè·¯ç”±åœ°å€, ä¸Šè¿™ä¸ªæ•°ç»„é‡Œéå†åŒ¹é…è§„åˆ™è·¯å¾„
// å‘½ä¸­å, å°±ä¼šå§componentå¯¹åº”çš„ç»„ä»¶æŒ‚è½½åˆ°router-viewä½ç½®ä¸Š
export const constantRoutes = [
  {
    path: '/login',
    component: () => import('@/views/login/index'), // å¼‚æ­¥åŠ è½½(æ‡’åŠ è½½ç»„ä»¶-å½“è·¯ç”±è·¯å¾„å‘½ä¸­è¿™ä¸ªpath, æ‰ä¼šç°å»å¼•å…¥å¯¹åº”ç»„ä»¶ä»£ç )
    hidden: true
  },

  {
    path: '/404',
    component: () => import('@/views/404'),
    hidden: true
  },

  {
    path: '/',
    component: Layout,
    redirect: '/dashboard',
    children: [{
      path: 'dashboard',
      name: 'Dashboard',
      component: () => import('@/views/dashboard/index'),
      meta: { title: 'Dashboard', icon: 'dashboard' }
    }]
  },
  // ...ç•¥

  // 404 page must be placed at the end !!!
  // 404è¿˜æ˜¯åœ¨æœ€å, ä½†æ˜¯æœ€å…³é”®çš„path: '*'
  // æ•°ç»„æ˜¯æœ‰é¡ºåºçš„, å‰é¢çš„å¯¹è±¡é‡Œpathéƒ½æ²¡æœ‰å’Œå½“å‰è·¯ç”±è·¯å¾„åŒ¹é…ä¸Šå°±åˆ°äº†è¿™é‡Œ
  // é‡å®šå‘redirect: æ”¹å˜æµè§ˆå™¨åœ°å€æ /404, æ˜¾ç¤º404é¡µé¢->è·¯ç”±åœ°å€å¥½çœ‹ä¸€äº›
  // ä¸æ˜¾ç¤ºé‚£ä¸ªé”™è¯¯çš„è·¯ç”±åœ°å€(éš¾çœ‹)
  { path: '*', redirect: '/404', hidden: true }
]

const createRouter = () => new Router({
  // mode: 'history', 
  // åœ¨è·¯ç”±åˆ‡æ¢æ—¶, æ»šå›åˆ°ç½‘é¡µçš„é¡¶éƒ¨
  scrollBehavior: () => ({ y: 0 }),
  routes: constantRoutes
})

const router = createRouter()

// é‡ç½®è·¯ç”±å¯¹è±¡-å¾—è®²åˆ°åé¢å†ç”¨
export function resetRouter() {
  const newRouter = createRouter()
  router.matcher = newRouter.matcher 
}

export default router

```



### å°ç»“

1. æ­¤æ–‡ä»¶æœ‰ä½•ä½œç”¨, å¯¹åº”é¡µé¢å“ªéƒ¨åˆ†?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>è·¯ç”±ç›¸å…³çš„é…ç½®, ä»¥åŠè·¯ç”±è§„åˆ™å¯¹è±¡æ•°ç»„</li>
   </ul> 
   </details>



## 08.æ¨¡æ¿è®²è§£-vuex

### ç›®æ ‡

åˆ†æ vuex ä¸­ä»£ç ç»„ç»‡æ–¹å¼

### è®²è§£

#### åˆ†æ vuex ç»„ç»‡

â€‹						<img src="./images/Day01/006-vuexç»„ç»‡æ–¹å¼.png" style="zoom:90%;" />

å½“å‰çš„ vuex ç»“æ„é‡‡ç”¨äº†æ¨¡å—å½¢å¼è¿›è¡Œç®¡ç†å…±äº«çŠ¶æ€

```js
import Vue from 'vue'
import Vuex from 'vuex'
import getters from './getters'
import app from './modules/app'
import settings from './modules/settings'
import user from './modules/user'

Vue.use(Vuex)

// storeæ˜¯å”¯ä¸€çš„ä¸€ä¸ªæ•°æ®ä»“åº“(ç®¡å®¶)
// å¤ä¹ çŸ¥è¯†ç‚¹1: storeé‡ŒåŒ…å«5å¤§æ ¸å¿ƒé…ç½®é¡¹(æ¦‚å¿µ) - å®šä¹‰
// state -> å®šä¹‰å˜é‡
// mutations -> å®šä¹‰æ–¹æ³•(å½¢å‚1æ˜¯state, å”¯ä¸€å¯ä»¥ä¿®æ”¹stateå€¼çš„åœ°æ–¹) -> devToolå·¥å…·æ£€æµ‹åˆ°
// actions -> å®šä¹‰æ–¹æ³•(å½¢å‚1æ˜¯store, å¼‚æ­¥æ“ä½œæ¥ä¿®æ”¹state, ä½†æ˜¯ä¹Ÿè¦æäº¤åˆ°mutations)
// getters -> vuexé‡Œè®¡ç®—å±æ€§ -> è®¡ç®—è¿”å›å€¼
// modules -> é›†ä¸­å¼ç®¡ç†å¤ªå¤š, å¯ä»¥åˆ†æ•£åˆ°å¤šä¸ªæ¨¡å—åˆ†åˆ«ç®¡ç†(ä½†æ˜¯æœ€åéƒ½è¦æŒ‚è½½åˆ°æ ¹storeä¸Š)

// çŸ¥è¯†ç‚¹2: æ¯ä¸ªmoudleså¯¹è±¡é‡Œè¿˜æ˜¯åŒ…å«è¿™5ä¸ªæ ¸å¿ƒæ¦‚å¿µ, è¿˜èƒ½ç»§ç»­åµŒå¥—ç®¡ç†

// çŸ¥è¯†ç‚¹3: vuexé‡Œçš„ä¸œè¥¿, å¦‚ä½•åœ¨vueç»„ä»¶é¡µé¢/jsæ–‡ä»¶é‡Œè¿›è¡Œä½¿ç”¨
// ç±»1: æ ¹storeé‡Œçš„(ä¸åˆ†æ¨¡å—çš„æ—¶å€™)
// ç›´æ¥ä½¿ç”¨
// æ˜ å°„ä½¿ç”¨

// ç±»2: åˆ†æ¨¡å—(ä¸å¼€å‘½åç©ºé—´)
// æ³¨æ„: åªå½±å“stateçš„å–å€¼æ–¹å¼
// mutationså’Œactionså’Œgettersè¿˜åƒä»¥å‰ä¸€æ ·ä½¿ç”¨

// ç±»3: åˆ†æ¨¡å—(å¼€å‘½åç©ºé—´)
// ä½¿ç”¨æ—¶, è¦å¸¦æ¨¡å—å(å‘½åç©ºé—´å)

const store = new Vuex.Store({
  modules: { // vuexåˆ†æ¨¡å—: keyæ¨¡å—å, valueæ¨¡å—é…ç½®å¯¹è±¡
    app, // ä¾§è¾¹æ å¯¹è±¡, è®¾å¤‡å‹å·
    settings, // ä¾§è¾¹æ æœ‰logo? å¤´éƒ¨æ˜¯å¦å›ºå®šå®šä½
    user // token, name, ç­‰ç”¨æˆ·ä¿¡æ¯
  },
  getters // æ ¹ä¸Šçš„(æ–¹ä¾¿é€»è¾‘é¡µé¢ç›´æ¥è®¿é—®, getterså†…éƒ¨å¸®æˆ‘å»æ˜ å°„æ¯ä¸ªæ¨¡å—é‡Œstate)
})

export default store

```



modules ä¸­æ˜¯å¯¼å…¥çš„æ¨¡å—

* user.js - ç”¨æˆ·ç›¸å…³æ¨¡å—(åŒ…å«ç™»å½•ç­‰æ¥å£è°ƒç”¨)
* settings.js - å¯¹logoå’Œå¤´éƒ¨çš„è®¾ç½®
* app.js -  å¯¹ä¾§è¾¹æ å±•å¼€çš„è®¾ç½®



gettersä¸­é›†ä¸­å¯¼å‡ºäº†æ‰€æœ‰å˜é‡, æ–¹ä¾¿æˆ‘ä»¬è°ƒç”¨è®¿é—®

```js
// æ­¤æ–‡ä»¶å¯ä»¥è®©é€»è¾‘é¡µé¢ç›´æ¥ä»gettersé‡Œå–å€¼(æ ¹gettersä¸ç”¨å…³å¿ƒæ¨¡å—å)
// é€»è¾‘é¡µé¢ä¸éœ€è¦è‡ªå·±ä¸€ç‚¹ç‚¹çš„ä»stateé‡Œå–å€¼
// çŸ¥è¯†ç‚¹1: å½“ç®­å¤´å‡½æ•°, å‡½æ•°ä½“"åªæœ‰ä¸€æ®µä»£ç "è€Œä¸”"é»˜è®¤æŠŠå€¼è¿”å›"å¯ä»¥åŒæ—¶çœç•¥å¤§æ‹¬å·å’Œreturn
const getters = {
  // sidebar(state) {
  //   return state.app.sidebar
  // },
  sidebar: state => state.app.sidebar,
  device: state => state.app.device,
  token: state => state.user.token,
  avatar: state => state.user.avatar,
  name: state => state.user.name
}
export default getters

// functionå’Œç®­å¤´å‡½æ•°, è¦çœ‹thisçš„æŒ‡å‘
// å¦‚æœä½ éè¦è®©thisæŒ‡å‘è°ƒç”¨è€…, å¿…é¡»ç”¨function
// çŸ¥è¯†ç‚¹2:
// functionå‡½æ•°é‡Œthiså…³é”®å­—å˜é‡å€¼, æŒ‡å‘è°ƒç”¨è€…
// ç®­å¤´å‡½æ•°é‡Œthiså…³é”®å­—å€¼, æŒ‡å‘å¤–å±‚å‡½æ•°ä½œç”¨åŸŸthisçš„å€¼
// æ—­å“¥åšå®¢: https://lidongxuwork.gitee.io/pages/webFront/javascript/run/this%E6%8C%87%E5%90%91.html#this%E5%85%B3%E9%94%AE%E5%AD%97


```



### å°ç»“

1. å¦‚ä½•æŸ¥çœ‹vuexçš„ç»“æ„?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>æ‰¾åˆ°new Vuex.Storeå…¥å£, é€ä¸ªæ”»ç ´, å¾ªåºæ¸å…¥</li>
   </ul>
   </details>
   
   

## 09.æ¨¡æ¿è®²è§£-utils

### ç›®æ ‡

äº†è§£utilså·¥å…·åŒ…é‡Œæ–‡ä»¶ä½œç”¨

### è®²è§£

1. utils/auth.js - tokenè·å–è®¾ç½®

   ```js
   import Cookies from 'js-cookie'
   
   const TokenKey = 'vue_admin_template_token' // å­˜å‚¨tokenç”¨çš„keyå
   
   export function getToken() { // è·å–tokenæ–¹æ³•-ä»Cookieé‡Œ
     return Cookies.get(TokenKey)
   }
   
   export function setToken(token) { // è®¾ç½®tokenæ–¹æ³•
     return Cookies.set(TokenKey, token)
   }
   
   export function removeToken() { // åˆ é™¤tokençš„æ–¹æ³•
     return Cookies.remove(TokenKey)
   }
   
   ```

2. utils/get-page-title.js - è·å–æ ‡é¢˜

   ```js
   import defaultSettings from '@/settings'
   
   const title = defaultSettings.title || 'Vue Admin Template' // å¦‚æœsettingsé‡Œæœ‰å€¼å°±ç”¨, å¦åˆ™ç”¨åé¢çš„å€¼
   
   export default function getPageTitle(pageTitle) { // è·å–é¡µé¢æ ‡ç­¾æ ä¸Šçš„æ ‡é¢˜
     if (pageTitle) { // å¦‚æœæœ‰å…·ä½“é¡µé¢-æ‹¼åœ¨å‰é¢
       return `${pageTitle} - ${title}`
     }
     return `${title}` // å¦‚æœæ²¡æœ‰å…·ä½“é¡µé¢-ç›´æ¥è¿”å›ä¸Šé¢è·å–çš„æ ‡é¢˜
   }
   
   ```

3. utils/index.js - å·¥å…·æ–¹æ³•

   ```js
   
   /**
    * æ ¼å¼åŒ–æ—¥æœŸ
    * @param {(Object|string|number)} time(æ—¶é—´å¯¹è±¡|æ—¶é—´å­—ç¬¦ä¸²|æ—¶é—´æˆ³)
    * @param {string} cFormat (æ ¼å¼æ¨¡æ¿yyyy-mm-ddæˆ–è€…mm-dd)
    * @returns {string | null} è¿”å›å¤„ç†åæ—¥æœŸå­—ç¬¦ä¸²
    */
   export function parseTime(time, cFormat) {
     if (arguments.length === 0 || !time) { // å¦‚æœæ²¡æœ‰ä¼ å‚, timeä¼ å…¥ä¸ºnullæˆ–undefined, ç›´æ¥è¿”å›null
       return null
     }
     const format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}' // æ ¼å¼åŒ–ç›®æ ‡
     let date
     if (typeof time === 'object') {
       date = time // å¦‚æœå¤–é¢ä¼ å…¥çš„æ˜¯æ—¥æœŸå¯¹è±¡
     } else {
       if ((typeof time === 'string')) { // å¦‚æœå¤–é¢ä¼ å…¥çš„æ˜¯æ—¥æœŸå­—ç¬¦ä¸²
         if ((/^[0-9]+$/.test(time))) { // å¦‚æœæ˜¯æ•°å­—(æ—¶é—´æˆ³)
           // support "1548221490638"
           time = parseInt(time) // æŠŠæ—¶é—´æˆ³å­—ç¬¦ä¸², è½¬æˆæ•°å­—ç±»å‹
         } else { // safariæµè§ˆå™¨é‡Œä¸æ”¯æŒå¹´-æœˆ-æ—¥æ ¼å¼, æ”¯æŒå¹´/æœˆ/æ—¥, è¦è½¬æ¢ä¸‹
           // support safari
           // https://stackoverflow.com/questions/4310953/invalid-date-in-safari
           time = time.replace(new RegExp(/-/gm), '/')
         }
       }
   
       if ((typeof time === 'number') && (time.toString().length === 10)) {
         time = time * 1000 // å¦‚æœä¼ å…¥çš„æ˜¯æ•°å­—, ä½†æ˜¯æ˜¯10ä½(ç§’), è¦è½¬æˆæ¯«ç§’
       }
       date = new Date(time) // æŠŠæ—¶é—´æˆ³æœ€ç»ˆä¹Ÿè½¬æˆæ—¥æœŸå¯¹è±¡
     }
     // ***********æˆ˜æœ¯åˆ†å‰²çº¿---ä¸Šé¢ä¸ºäº†å¾—åˆ°æ—¥æœŸå¯¹è±¡*******************
     const formatObj = { // æŠŠæ—¥æœŸå¯¹è±¡è½¬æˆå¹´,æœˆ,æ—¥,æ—¶,åˆ†,ç§’,å¤©æ•°å­—è£…å…¥å¯¹è±¡
       y: date.getFullYear(),
       m: date.getMonth() + 1,
       d: date.getDate(),
       h: date.getHours(),
       i: date.getMinutes(),
       s: date.getSeconds(),
       a: date.getDay()
     }
     // æŠŠå¤–é¢ä¼ å…¥çš„æ ¼å¼ä¾‹å¦‚yyyy-mm-dd, æ›¿æ¢æˆæ•°å­—2021-12-02ç±»ä¼¼å¹´æœˆæ—¥
     const time_str = format.replace(/{([ymdhisa])+}/g, (result, key) => {
       const value = formatObj[key] // æŠŠè‹±æ–‡å¯¹åº”å–å‡ºæ•°å­—
       // Note: getDay() returns 0 on Sunday
       if (key === 'a') { return ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'][value ] } // å¦‚æœkeyè¦çš„æ˜¯æ—¥, åˆ™ç”¨æ•°å­—å»æ•°ç»„æ¢å‡ºä¸­æ–‡
       return value.toString().padStart(2, '0') // padStart(æ€»ä½æ•°, å‰ç½®è¡¥å……), æ‰€ä»¥å¦‚æœåªä¸è¶³2ä½, å·¦è¾¹è¡¥0
     })
     return time_str // è¿”å›å¤„ç†åçš„å¹´æœˆæ—¥æ•°å­—çš„å­—ç¬¦ä¸²
   }
   
   /** è¿”å›å¤šä¹…ä¹‹å‰, è¶…è¿‡2å¤©è¿”å›å¹´æœˆæ—¥æ—¶åˆ†ç§’
    * @param {number} time
    * @param {string} option
    * @returns {string}
    */
   export function formatTime(time, option) {
     if (('' + time).length === 10) { // å¦‚æœæ˜¯ç§’, è½¬æˆæ¯«ç§’çš„æ—¶é—´æˆ³
       time = parseInt(time) * 1000
     } else { // å¦‚æœæ˜¯æ—¥æœŸå¯¹è±¡, è½¬æˆæ—¶é—´æˆ³
       time = +time
     }
     const d = new Date(time) // å†æŠŠæ—¶é—´æˆ³è½¬æˆæ—¥æœŸå¯¹è±¡
     const now = Date.now() // è·å–
   
     const diff = (now - d) / 1000 // æ±‚å‡ºæ—¶é—´æˆ³, å·®å€¼ç§’
   
     if (diff < 30) {
       return 'åˆšåˆš'
     } else if (diff < 3600) {
       // less 1 hour
       return Math.ceil(diff / 60) + 'åˆ†é’Ÿå‰'
     } else if (diff < 3600 * 24) { // å°äº1å¤©çš„ å°±æ˜¯å¤šå°‘å°æ—¶å‰
       return Math.ceil(diff / 3600) + 'å°æ—¶å‰'
     } else if (diff < 3600 * 24 * 2) { // å°äº2å¤©çš„å°±æ˜¯1å¤©å‰
       return '1å¤©å‰'
     }
     if (option) { // optionä¼ é€’äº†çš„è¯æ„æ€å°±æ˜¯è¦æ ¼å¼åŒ–æ—¶é—´
       return parseTime(time, option) // è°ƒç”¨ä¸Šé¢æ–¹æ³•
     } else { // å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°, è¶…è¿‡2å¤©äº†è¿”å›xæœˆxæ—¥xæ—¶xåˆ†
       return (
         d.getMonth() +
         1 +
         'æœˆ' +
         d.getDate() +
         'æ—¥' +
         d.getHours() +
         'æ—¶' +
         d.getMinutes() +
         'åˆ†'
       )
     }
   }
   
   /**
    * æŠŠkey=value&key=valueå­—ç¬¦ä¸²è½¬æˆ{key: value, key: value}
    * @param {string} url
    * @returns {Object}
    */
   export function param2Obj(url) {
     // ä¾‹å¦‚: ?a=10&b=20
     // æŠŠ?åé¢çš„å‚æ•°æˆªå–å‡ºæ¥, URLè½¬ç æŠŠ%E2ç­‰å­—ç¬¦è½¬æˆä¸­æ–‡
     // å¦‚æœ?åé¢çš„å‚æ•°æœ‰+å·æ›¿æ¢æˆç©ºå­—ç¬¦ä¸²
     const search = decodeURIComponent(url.split('?')[1]).replace(/\+/g, ' ')
     if (!search) { // å¦‚æœæ²¡æœ‰å‚æ•°, ç›´æ¥è¿”å›ç©ºå¯¹è±¡
       return {}
     }
     const obj = {}
     const searchArr = search.split('&') // ç”¨&ç¬¦å·åˆ†å‰²å‚æ•°, ç±»ä¼¼:['a=10', 'b=20']
     searchArr.forEach(v => { // éå†æ¯ä¸ªæ•°ç»„å…ƒç´ 
       const index = v.indexOf('=') // æŸ¥æ‰¾å°å­—ç¬¦ä¸²é‡Œæœ‰æ— =å­—ç¬¦
       if (index !== -1) { // å¦‚æœæ‰¾åˆ°äº†, ä»å¤´æˆªå–åˆ°=å·å·¦è¾¹
         const name = v.substring(0, index) // ä½œä¸ºåå­—
         const val = v.substring(index + 1, v.length) // åé¢valueæˆªå–
         obj[name] = val // å¾€å¯¹è±¡é‡Œæ·»åŠ ä¸€å¯¹key: value
       }
     })
     return obj // ä¸Šé¢å¤„ç†åè¿”å›å¯¹è±¡
   }
   
   ```

4. utils/validate.js

   ```js
   /**
    * Created by PanJiaChen on 16/11/18.
    */
   
   /**
    * åˆ¤æ–­æ˜¯å¦æ˜¯å¤–é“¾
    * @param {string} path
    * @returns {Boolean} trueæ˜¯å¤–é“¾, falseä¸æ˜¯å¤–é“¾
    */
   export function isExternal(path) {
     // åŒ¹é…https:æˆ–è€… http:
     // åŒ¹é…mailto: (åœ¨ç½‘é¡µä¸­å‘é€é‚®ä»¶)
     // åŒ¹é…tel:
     return /^(https?:|mailto:|tel:)/.test(path)
   }
   
   /**
    * @param {string} str
    * @returns {Boolean}
    */
   export function validUsername(str) {
     const valid_map = ['admin', 'editor']
     return valid_map.indexOf(str.trim()) >= 0
   }
   
   ```

### å°ç»“

1. utilsé‡Œä¸€èˆ¬æ”¾çš„éƒ½æ˜¯ä»€ä¹ˆä¸œè¥¿?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>æ•´ä¸ªé¡¹ç›®ç”¨åˆ°çš„å·¥å…·, å°è£…èµ·æ¥é›†ä¸­ç®¡ç†, é€»è¾‘é¡µé¢éœ€è¦çš„æ—¶å€™è¿›è¡Œè°ƒç”¨</li>
   </ul>
   </details>



## 10.æ¨¡æ¿è®²è§£-request.js(ä¸Šåˆç»“æŸ)

### ç›®æ ‡

äº†è§£ Axios å°è£…çš„æµç¨‹

äº†è§£æ‹¦æˆªå™¨çš„ä½¿ç”¨

### è®²è§£

#### axios å°è£…ä»‹ç»

æ¨¡æ¿é¡¹ç›®å¯¹ axios è¿›è¡Œäº†äºŒæ¬¡å°è£…ï¼Œå®ç°å‰åç«¯æ•°æ®çš„äº¤äº’

1.  åˆ›å»º axios å®ä¾‹
2.  é…ç½®è¯·æ±‚æ ¹è·¯å¾„ä»¥åŠè¯·æ±‚è¶…æ—¶æ—¶é—´
3.  è¯·æ±‚æ‹¦æˆªå™¨
4.  å“åº”æ‹¦æˆªå™¨

#### åˆ›å»ºaxioså®ä¾‹

ä½¿ç”¨ axios.create æ–¹æ³•åˆ›å»º axios å®ä¾‹

```js
// åˆ›å»ºaxioså®ä¾‹(serviceé‡Œé¢å¸¦å‰ç¼€åŸºåœ°å€å’Œè¶…æ—¶æ—¶é—´)
const service = axios.create({
  // çŸ¥è¯†ç‚¹1: nodejs+webpackä¸‹çš„ç¯å¢ƒå˜é‡
  // process.env -> nodejsç¯å¢ƒä¸‹çš„å†…ç½®å…¨å±€å˜é‡(ä»»æ„å¤„ä½¿ç”¨)
  // æ•ˆæœ: è·å–æ•²å‡»å‘½ä»¤, æ‰§è¡Œæ—¶çš„ "ç¯å¢ƒå˜é‡"
  // yarn dev(å¼€å‘ç¯å¢ƒå¯åŠ¨)-> process.envä¸Šä¼šè¢«nodejs+webpackæŒ‚è½½.env.developmentæ–‡ä»¶é‡Œçš„å˜é‡å€¼åˆ°è¿™é‡Œ
  // yarn build:prod(æ‰“åŒ…å‡†å¤‡æ”¾å…¥ç”Ÿäº§ç¯å¢ƒ) -> process.envä¸Šä¼šè¢«æŒ‚è½½.env.productionæ–‡ä»¶é‡Œçš„å˜é‡å€¼åˆ°è¿™é‡Œ
  // ä½œç”¨: æ ¹æ®æ•²å‡»çš„å‘½ä»¤, è‡ªåŠ¨åŠ è½½å¯¹åº”ä¸åŒçš„ç¯å¢ƒå˜é‡, å¼€å‘æ—¶æ˜¯ä¸€ä¸ªåŸºåœ°å€, ä¸Šçº¿æ—¶æ˜¯ä¸€ä¸ªåŸºåœ°å€
  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url
  // withCredentials: true, // send cookies when cross-domain requests
  timeout: 5000 // ç½‘ç»œè¯·æ±‚5ç§’åè¿˜æ²¡å¾—åˆ°å“åº”, åˆ™åˆ¤å®šè¶…æ—¶, æŠ¥é”™
})
```

#### æ‹¦æˆªå™¨

axiosçš„æ‹¦æˆªå™¨åŸç†å¦‚ä¸‹ï¼š

åˆ†ä¸ºï¼Œè¯·æ±‚æ‹¦æˆªå™¨å’Œå“åº”æ‹¦æˆªå™¨

è¯·æ±‚æ‹¦æˆªå™¨ï¼šåœ¨`å‘å‡ºè¯·æ±‚ä¹‹å‰`æ‹¦æˆªè¯·æ±‚ï¼Œç”¨æ¥å¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹å¹¶è¿”å›ï¼Œä¾‹å¦‚ï¼šæ·»åŠ è¯·æ±‚å¤´

å“åº”æ‹¦æˆªå™¨ï¼šåœ¨`æ¥æ”¶åˆ°å“åº”æŠ¥æ–‡ä¹‹å`å¯¹å“åº”æŠ¥æ–‡ä¸­çš„æ•°æ®ä¿®æ”¹ä»¥åè¿”å›ï¼Œä¾‹å¦‚ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯ 401ï¼Œé‡æ–°ç™»å½•



â€‹			<img src="./images/Day01/007-axiosæ‹¦æˆªå™¨.png" style="zoom:90%;" />



#### è¯·æ±‚æ‹¦æˆªå™¨

åœ¨`å‘å‡ºè¯·æ±‚ä¹‹å‰`æ‹¦æˆªè¯·æ±‚ï¼Œç”¨æ¥å¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹å¹¶è¿”å›

```js
// è¯·æ±‚æ‹¦æˆªå™¨
service.interceptors.request.use(
  config => { // å‘é€è¯·æ±‚ä¹‹å‰, å¯¹é…ç½®å¯¹è±¡æœ€åä¿®æ”¹
    if (store.getters.token) { // å¦‚æœæœ‰token, æºå¸¦ä¸Š
      config.headers['X-Token'] = getToken() // keyå«X-Token, valueæ˜¯token(å¸¦åœ¨è¯·æ±‚å¤´é‡Œ)
    }
    return config
  },
  error => { // è¯·æ±‚ä¹‹å‰æŠ¥é”™æ‰§è¡Œè¿™é‡Œ
    console.log(error) // for debug
    return Promise.reject(error)
  }
)
```



#### å“åº”æ‹¦æˆªå™¨

åœ¨`æ¥æ”¶åˆ°å“åº”æŠ¥æ–‡ä¹‹å`å¯¹å“åº”æŠ¥æ–‡ä¸­çš„æ•°æ®ä¿®æ”¹ä»¥åè¿”å›

```js
// å“åº”æ‹¦æˆªå™¨
service.interceptors.response.use(
  response => { // å“åº”æˆåŠŸ2xx, 3xx
    const res = response.data // æå–å“åº”æ•°æ®

    // httpçŠ¶æ€è™½ç„¶æ­£ç¡®, ä½†æ˜¯é€»è¾‘é”™è¯¯åœ¨codeä¸­è¡¨ç¤º(20000æˆåŠŸ, ä¸æ˜¯20000åˆ™å¤±è´¥)
    if (res.code !== 20000) {
      Message({
        message: res.message || 'Error',
        type: 'error',
        duration: 5 * 1000
      })

      // å…¶ä»–é”™è¯¯ç çš„åˆ¤æ–­, ç»™å‡ºæç¤º
      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {
        MessageBox.confirm('You have been logged out, you can cancel to stay on this page, or log in again', 'Confirm logout', {
          confirmButtonText: 'Re-Login',
          cancelButtonText: 'Cancel',
          type: 'warning'
        }).then(() => { // ç”¨æˆ·ç‚¹å‡»ç¡®è®¤, æ¸…é™¤vuexçš„token
          store.dispatch('user/resetToken').then(() => {
            location.reload()
          })
        })
      }
      return Promise.reject(new Error(res.message || 'Error'))
    } else {
      return res
    }
  },
  error => { // å“åº”çŠ¶æ€ç 4xx, 5xxè¿›å…¥è¿™é‡Œ
    console.log('err' + error)
    Message({
      message: error.message,
      type: 'error',
      duration: 5 * 1000
    })
    return Promise.reject(error)
  }
)
```



### å°ç»“

1. axiosçš„æ‹¦æˆªå™¨ä½•æ—¶æ‰§è¡Œ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>è¯·æ±‚æ‹¦æˆªå™¨, åœ¨å‘èµ·è¯·æ±‚ä¹‹å‰, å¯¹è¯·æ±‚çš„é…ç½®å¯¹è±¡, è¿›è¡Œæœ€åä¿®æ”¹</li>
   <li>å“åº”æ‹¦æˆªå™¨, åœ¨å“åº”æ•°æ®å›æ¥, å…ˆè¢«å“åº”æ‹¦æˆªå™¨å‡½æ•°, å¤„ç†ä¸€ä¸‹</li>
   <li>æ¯ç§æ‹¦æˆªå™¨å‡½æ•°, éƒ½æœ‰ä¸€ä¸ªæˆåŠŸçš„å’Œå¤±è´¥çš„</lli>
   </ul>
   </details>

2. httpçŠ¶æ€ç å’Œcodeçš„åŒºåˆ«?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>httpçŠ¶æ€ç , æ˜¯æœ¬æ¬¡å“åº”çš„çŠ¶æ€</li>
   <li>200å®Œå…¨æˆåŠŸ</li>
   <li>4å¼€å¤´å’Œ5å¼€å¤´éƒ½æ˜¯æœ¬æ¬¡å“åº”å¤±è´¥</li>
   <li>è€Œcodeæ˜¯httpä¸€æ¬¡è¯·æ±‚å’Œä¸€æ¬¡æˆåŠŸå“åº”, ä½†æ˜¯é€»è¾‘æœ‰é”™è¯¯, ä¾‹å¦‚ç™»å½•å¤±è´¥</li>
   </ul>
   </details>



## 11.æ¨¡æ¿è®²è§£-App.vue-è·¯ç”±å’ŒLayout

### ç›®æ ‡

åˆ†æ App.vue ä¸­ä»£ç çš„æ„æˆ



### è®²è§£

App.vue æ˜¯é¡¹ç›®çš„æ ¹ç»„ä»¶ 

<img src="./images/Day01/008-layoutç»„ç»‡æ–¹å¼.png" style="zoom:90%; border: 1px solid #ccc" />



1. App.vue åªæœ‰ router-view ï¼Œä¸€çº§è·¯ç”±çš„å‡ºå£

   ```vue
   <template>
     <div id="app">
       <!-- ä¸€çº§è·¯ç”±çš„å‡ºå£ -->
       <router-view />
     </div>
   </template>
   ```

2. æŸ¥çœ‹ router/index.js ä¸­çš„è·¯ç”±è¡¨æ–‡ä»¶

   ```js
     {
       path: '/login', // ç™»å½•
       component: () => import('@/views/login/index'),
       hidden: true
     },
   
     {
       path: '/404', // 404
       component: () => import('@/views/404'),
       hidden: true
     },
   
     {
       path: '/',
       component: Layout, // æˆ‘ä»¬åœ¨è®¿é—®ä¸»è¦æ—¶ï¼Œéœ€è¦å±•ç¤ºçš„æ˜¯ Layoutç»„ä»¶
       redirect: '/dashboard',
       children: [{
         path: 'dashboard',
         name: 'Dashboard',
         component: () => import('@/views/dashboard/index'),
         meta: { title: 'Dashboard', icon: 'dashboard' }
       }]
     
   
     // å…¶ä»–è·¯ç”±å’Œç»„ä»¶â€¦â€¦
   ```

3. Layout æ˜¯ç™»å½•åä¸»é¡µçš„æ ·å¼å¸ƒå±€

   ```vue
   <template>
     <!-- layoutå¸ƒå±€é¡µé¢(å·¦è¾¹å’Œä¸Šé¢) -->
     <div :class="classObj" class="app-wrapper">
       <!-- ç°è‰²è’™å±‚: åœ¨ç§»åŠ¨ç«¯ä¸‹, åˆ‡æ¢å·¦ä¾§å¯¼èˆª, ä¼šå‡ºç°
         sidebar.opened -> ä¾§è¾¹æ å¯¼èˆªå‡ºç°(å€¼æ¥è‡ªvuexçš„sidebar.js)
         ç‚¹å‡»è’™å±‚å…³é—­->è®¾ç½®(openedä¸ºfalse, æœ¬åœ°è¿˜å­˜ä¸ª0)
        -->
       <div v-if="device==='mobile' && sidebar.opened" class="drawer-bg" @click="handleClickOutside" />
       <!-- å·¦ä¾§ä¾§è¾¹æ ç»„ä»¶ -->
       <sidebar class="sidebar-container" />
       <!-- å³ä¾§å®¹å™¨ -->
       <div class="main-container">
         <!-- å¤´éƒ¨æ˜¯å¦å›ºå®š(åœ¨@/settingså¯ä»¥è®¾ç½®, ä½†æ˜¯åœ¨vuexé‡Œå–å‡º)->ç°åœ¨falseä¸å›ºå®š -->
         <div :class="{'fixed-header':fixedHeader}">
           <!-- å¤´éƒ¨å¯¼èˆªç»„ä»¶ -->
           <navbar />
         </div>
         <!-- ä¸»ä½“å†…å®¹åŒºåŸŸ -->
         <app-main />
       </div>
     </div>
   </template>
   ```

4. Layoutä¸‹å±

   å·¦ä¾§slidebarç»„ä»¶ (ä¾§è¾¹æ å¯¼èˆª)

   å³ä¾§ä¸Šéƒ¨navbarç»„ä»¶ (å¤´éƒ¨å¯¼èˆª)

   å³ä¾§ä¸»é¢˜å†…å®¹app-mainç»„ä»¶

   åˆ†åˆ«åˆ‡æ¢è¿›å»æŸ¥çœ‹å¯¹åº”å®ç°



### å°ç»“

1. æ•´ä¸ªé¡¹ç›®çš„è·¯ç”±æ˜¯å¦‚ä½•å¸ƒå±€ç®¡ç†çš„?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>App.vueé‡Œè®¾ç½®ä¸€çº§è·¯ç”±æŒ‚è½½ç‚¹, æŒ‚è½½layoutå’Œç™»å½•é¡µé¢ä»¥åŠ404é¡µé¢</li>
   <li>Layout.vueå³ä¸‹è§’æ˜¯äºŒçº§è·¯ç”±æŒ‚è½½ç‚¹,æŒ‚è½½äºŒçº§è·¯ç”±çš„é¡µé¢</li>
   </ul>
   </details>
   
   

## 12.æ¨¡æ¿è®²è§£-viewsä¸‹å±

### ç›®æ ‡

åˆ†æè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„ä¸€åˆ‡æ–‡ä»¶

### è®²è§£

ä¸»è¦è®²è§£ä¸‹ç™»å½•é¡µé¢views/login.vue

```vue
<template>
  <div class="login-container">
    <!-- elementUIè¡¨å•ç»“æ„
      el-form > el-form-item > å…·ä½“çš„è¡¨å•æ ‡ç­¾(è¾“å…¥æ¡†/å¤é€‰æ¡†/....)
      åšè¡¨å•çš„æ ¡éªŒ:
      æ–¹å¼1: æ ‡ç­¾ä¸Šæ ¡éªŒ(å¤±å»ç„¦ç‚¹æ ¡éªŒ)
      el-formæ ‡ç­¾: :model="è¡¨å•æ•°æ®å¯¹è±¡" :rules="è§„åˆ™å¯¹è±¡"
      el-form-item prop="å¯¹è±¡é‡Œkeyå"
      å…·ä½“æ ‡ç­¾ v-model="è¡¨å•æ•°æ®å¯¹è±¡.keyå"
      é‡è¦: å› ä¸ºç»„ä»¶å†…è¦è®¿é—®keyå, æ‰€ä»¥è¦æ±‚è¡¨å•æ•°æ®å¯¹è±¡å’Œè§„åˆ™å¯¹è±¡keyå¿…é¡»ä¸€è‡´
      propå’Œv-modelçš„é‚£ä¸ªkeyåå¯¹åº”çš„

      æ–¹å¼2: JSé‡Œå…œåº•æ ¡éªŒ(é˜²æ­¢ç”¨æˆ·ä¸Šæ¥ç›´æ¥ç‚¹å‡»æŒ‰é’®-æƒ³è·³è¿‡æ ‡ç­¾æ ¡éªŒ)
      el-formæ ‡ç­¾: ref="åˆ«å" ä¸ºäº†åœ¨jsä¸­this.$refs.åˆ«å è·å–åˆ°el-formç»„ä»¶å¯¹è±¡
      ç‚¹å‡»ç™»å½•äº‹ä»¶æ–¹æ³•å†…, è°ƒç”¨ç»„ä»¶å¯¹è±¡å†…ç½®.validate()æ–¹æ³•è¿›è¡Œå¼ºåˆ¶æ ¡éªŒ
     -->
    <el-form ref="loginForm" :model="loginForm" :rules="loginRules" class="login-form" auto-complete="on" label-position="left">

      <div class="title-container">
        <h3 class="title">Login Form</h3>
      </div>

      <el-form-item prop="username">
        <span class="svg-container">
          <svg-icon icon-class="user" />
        </span>
        <el-input
          ref="username"
          v-model="loginForm.username"
          placeholder="Username"
          name="username"
          type="text"
          tabindex="1"
          auto-complete="on"
        />
      </el-form-item>

      <el-form-item prop="password">
        <span class="svg-container">
          <svg-icon icon-class="password" />
        </span>
        <el-input
          :key="passwordType"
          ref="password"
          v-model="loginForm.password"
          :type="passwordType"
          placeholder="Password"
          name="password"
          tabindex="2"
          auto-complete="on"
          @keyup.enter.native="handleLogin"
        />
        <span class="show-pwd" @click="showPwd">
          <svg-icon :icon-class="passwordType === 'password' ? 'eye' : 'eye-open'" />
        </span>
      </el-form-item>

      <el-button :loading="loading" type="primary" style="width:100%;margin-bottom:30px;" @click.native.prevent="handleLogin">Login</el-button>

      <div class="tips">
        <span style="margin-right:20px;">username: admin</span>
        <span> password: any</span>
      </div>

    </el-form>
  </div>
</template>
```



### å°ç»“

1. æ­¤æ–‡ä»¶æœ‰ä½•ä½œç”¨, å¯¹åº”é¡µé¢å“ªéƒ¨åˆ†?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>å¯¹åº”ç™»å½•é¡µé¢, æ˜¯å†™çš„ç°æˆçš„</li>
   </ul> 
   </details>



## 13.æ¨¡æ¿è®²è§£-main.js

### ç›®æ ‡

ğŸ˜€â“  æ€ è€ƒï¼š

å…¥èŒå…¬å¸ï¼Œä¸€èˆ¬æ˜¯å¯¹å·²æœ‰çš„é¡¹ç›®è¿›è¡Œå¼€å‘ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç›´æ¥ä¸Šæ‰‹å¼€å‘å— ï¼Ÿ



ğŸ˜‡ğŸ’¯ ç­”æ¡ˆï¼š

ä¸èƒ½

å…¬å¸é¡¹ç›®æœ‰å¯èƒ½å†™äº†åŠå¹´ï¼Œä¸€å¹´ï¼Œç”šè‡³æ›´ä¹…

é¡¹ç›®ä»£ç ï¼Œä¼šæ¯”è¾ƒå¤šï¼Œæ ¹æœ¬æ— æ³•ä¸‹æ‰‹ï¼Œç›´æ¥ä¸Šæ‰‹ä¹Ÿä¼šäº§ç”Ÿå¾ˆå¤š Bug 

å› æ­¤å…¥èŒä»¥åï¼Œå…¬å¸ä¼šç»™ä¸€å®šçš„æ—¶é—´å»ç†Ÿæ‚‰å…¬å¸çš„é¡¹ç›®ä»£ç (**è¿è¡Œæœºåˆ¶å’Œæ–‡ä»¶æ¢³ç†**)



### è®²è§£

main.jsæ˜¯é¡¹ç›®çš„æ•´ä¸ªå…¥å£, åˆšæ‰æˆ‘ä»¬ä»å¤´æŒ¨ä¸ªåˆ†æå, ç°åœ¨æˆ‘ä»¬å¯ä»¥å»æ•´ç†å’Œè§„åˆ’ä¸‹æ¯ä¸ªæ–‡ä»¶å¤¹çš„æ„æ€äº†

#### ç›®å½•ç»“æ„

```html
â”œâ”€â”€ src                        # æºä»£ç 
â”‚   â”œâ”€â”€ api                    # æ‰€æœ‰è¯·æ±‚
â”‚   â”œâ”€â”€ assets                 # ä¸»é¢˜ å­—ä½“ç­‰é™æ€èµ„æº
â”‚   â”œâ”€â”€ components             # å…¨å±€å…¬ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ icons                  # é¡¹ç›®æ‰€æœ‰ svg icons
â”‚   â”œâ”€â”€ layout                 # å…¨å±€ layout
â”‚   â”œâ”€â”€ router                 # è·¯ç”±
â”‚   â”œâ”€â”€ store                  # å…¨å±€ storeç®¡ç†
â”‚   â”œâ”€â”€ styles                 # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ utils                  # å…¨å±€å…¬ç”¨æ–¹æ³•
â”‚   â”œâ”€â”€ views                  # views æ‰€æœ‰é¡µé¢
â”‚   â”œâ”€â”€ App.vue                # å…¥å£é¡µé¢
â”‚   â”œâ”€â”€ main.js                # å…¥å£æ–‡ä»¶ åŠ è½½ç»„ä»¶ åˆå§‹åŒ–ç­‰
â”‚   â””â”€â”€ permission.js          # æƒé™ç®¡ç†
â”‚   â””â”€â”€ settings.js            # é…ç½®æ–‡ä»¶
```



#### main.js

main.js æ˜¯æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶

â€‹						<img src="./images/Day01/009-main.jsç»„ç»‡æ–¹å¼.png" style="zoom:90%; border: 1px solid #ccc" />



åœ¨ main.js æ–‡ä»¶ä¸­ï¼Œåœ¨å¯¹ Vue è¿›è¡Œå®ä¾‹åŒ–çš„åŒæ—¶ï¼Œè¿˜ä¸»è¦åšäº† 4 ä»¶äº‹ï¼š

1.  æŒ‚è½½è·¯ç”± router

   ```js
   import router from './router'
   
   new Vue({
     el: '#app',
     router,
     store,
     render: h => h(App)
   })
   ```

2.  æŒ‚è½½ store

   ```js
   import store from './store'
   
   new Vue({
     el: '#app',
     router,
     store,
     render: h => h(App)
   })
   ```

3.  æ³¨å†Œ element

   ```js
   import ElementUI from 'element-ui'
   import 'element-ui/lib/theme-chalk/index.css'
   import locale from 'element-ui/lib/locale/lang/en' // lang i18n
   
   // set ElementUI lang to EN
   // Vue.use(ElementUI, { locale })
   // å¦‚æœæƒ³è¦ä¸­æ–‡ç‰ˆ element-uiï¼ŒæŒ‰å¦‚ä¸‹æ–¹å¼å£°æ˜
   Vue.use(ElementUI)
   ```

4.  æŒ‚è½½é¡¹ç›®çš„è·Ÿç»„ä»¶

   ```js
   import App from './App'
   
   new Vue({
     el: '#app',
     router,
     store,
     render: h => h(App)
   })
   ```



#### mock

mockæ˜¯æ¨¡æ‹Ÿæ•°æ®, ç”¨äºéšæœºç”Ÿæˆä¸€äº›å€¼ç»™å‰å°

æœ‰çš„é¡¹ç›®æ˜¯å‰ç«¯å…ˆå¹², åç«¯è¿˜æ²¡æœ‰æ¥å£(ä»¥ååç«¯æ¥å£å¯ä»¥å‚è€ƒmockçš„æ•°æ®ç»“æ„æ— ç¼å’Œå‰ç«¯å¯¹æ¥)

```js
if (process.env.NODE_ENV === 'production') {
  const { mockXHR } = require('../mock')
  mockXHR()
}
// mock(æ‹¦æˆªajaxè¯·æ±‚, è¿”å›æ¨¡æ‹Ÿæ•°æ®)
// æ–‡æ¡£: http://mockjs.com/
// é¡¹ç›®åˆ†ä¸º2ç§æƒ…å†µ
// åç«¯å†™å¥½äº†(æœ‰æ¥å£)
// ä¸ä½¿ç”¨mock, è€Œæ˜¯ç›´æ¥ajax->è¯·æ±‚åç«¯æ¥å£->æ‹¿åˆ°å¼€å‘æ•°æ®é“ºè®¾é¡µé¢

// åç«¯è¿˜æ²¡å†™(æ— æ¥å£)
// ç»†åˆ†2ç§æƒ…å†µ
// (1): "æ²¡æœ‰"å’Œåå°æ²Ÿé€šå¥½, è¿”å›æ•°æ®çš„å­—æ®µå, å­—æ®µæ•°é‡, æ— æ³•ä½¿ç”¨mock, å…ˆéšä¾¿ç¼–ç‚¹å›ºå®šæ•°æ®
// (2): é¡µé¢æ•°é‡, æ¨¡å—åˆ’åˆ†, å­—æ®µåå­—éƒ½å·²ç»ç¡®å®šäº†, æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨mock, æ¥è®¾ç½®æ¨¡æ‹Ÿæ•°æ®æ ¼å¼, å°†æ¥åå°æœ‰æ¥å£äº†, æˆ‘æ— éœ€æ”¹å˜å‰ç«¯é€»è¾‘ä»£ç , ç›´æ¥æ›¿æ¢æ¥å£è¯·æ±‚å³å¯
```



### å°ç»“

1. main.jsé‡Œéƒ½å¹²äº†ä»€ä¹ˆ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>æ¸…é™¤æ ‡ç­¾é»˜è®¤æ ·å¼</li>
   <li>å¼•å…¥å’Œæ³¨å†ŒElementUI</li>
   <li>å¼•å…¥å…¨å±€é€šç”¨æ ·å¼</li>
   <li>å¼•å…¥Appæ ¹ç»„ä»¶</li>
   <li>å¼•å…¥storeå’Œrouter</li>
   <li>å¼•å…¥å­—ä½“å›¾æ ‡å·¥å…·å’Œè·¯ç”±æƒé™æ§åˆ¶æ¨¡å—</li>
   </ul>
   </details>



## 14.æ¨¡æ¿è®²è§£-permission.js

### ç›®æ ‡

åˆ†æ permission.js ä¸­ä»£ç çš„ä½œç”¨

### è®²è§£

```js
import router from './router' // æˆ‘ä»¬è‡ªå·±newçš„routerè·¯ç”±å¯¹è±¡(ç›¸å½“äºthis.$router)
import store from './store' // newå‡ºæ¥storeå¯¹è±¡(ç›¸å½“äºthis.$store)
import { Message } from 'element-ui' // æ¶ˆæ¯é¡¶éƒ¨æç¤ºæ¡†
import NProgress from 'nprogress' // è¿›åº¦æ¡(æµè§ˆå™¨é¡¶éƒ¨-è·¯ç”±åˆ‡æ¢çš„æ—¶å€™æ˜¾ç¤º)
// çŸ¥è¯†ç‚¹1: å¦‚æœæƒ³çœ‹åŒ…çš„ä½œç”¨, æœ€å¥½å°±æ˜¯å»npmjs.comç½‘ç«™
import 'nprogress/nprogress.css' // è¿›åº¦æ¡æ ·å¼
import { getToken } from '@/utils/auth' // get token from cookie
import getPageTitle from '@/utils/get-page-title' // è®¾ç½®æµè§ˆå™¨æ ‡é¢˜çš„å¤„ç†å‡½æ•°

NProgress.configure({ showSpinner: false }) // å³ä¾§çš„è¿›åº¦ç¯
// çŸ¥è¯†ç‚¹2: åˆ†æä»£ç æ€è·¯
// (1): å…ˆæ‰¾å®˜æ–¹æ–‡æ¡£, è¯»ä¸€è¯»
// (2): åœ¨è‡ªå·±æ”¹æ”¹è¯•ä¸€è¯•, åˆ†æåˆ†æ, æ”¹æ”¹, æ‰“å°æ‰“å°....
// (3): ç™¾åº¦/é—®åˆ«äºº
// (4): å…ˆæ”¾æ”¾, ä¸å½±å“æ ¸å¿ƒé€»è¾‘, æœ€åè”æƒ³ä¸Šä¸‹æ–‡(å˜é‡åœ¨å“ªé‡Œç”¨è¿‡-åœ¨å½“å‰é¡µé¢æœç´¢/æ”¾å¤§é•œå…¨å±€æœç´¢), å†çŒœ

const whiteList = ['/login'] // ç™½åå•(æ— tokenèƒ½å¤Ÿçœ‹åˆ°çš„é¡µé¢è·¯ç”±è·¯å¾„)

// å…¨å±€è·¯ç”±-å‰ç½®å®ˆå«
router.beforeEach(async(to, from, next) => {
  // to: è¦å»çš„ä¸‹ä¸€ä¸ªè·¯ç”±é¡µé¢çš„ è·¯ç”±å¯¹è±¡(è·¯ç”±è§„åˆ™æ•°ç»„é‡Œ)
  // å¼€å¯è¿›åº¦æ¡(é’ˆå¯¹è·¯ç”±åˆ‡æ¢é¡µé¢æœ‰è¿›åº¦æ¡, ajaxè¯·æ±‚æ— è¿›åº¦æ¡)
  NProgress.start()

  // çŸ¥è¯†ç‚¹: ç»™æµè§ˆå™¨ä¸Šé¢æ ‡ç­¾æ ä¸Šçš„æ ‡é¢˜è®¾ç½®æ–‡å­—(ç±»ä¼¼index.htmlä¸­titleæ ‡ç­¾ä½œç”¨)
  // titleæ ‡ç­¾é™æ€çš„, document.titleå¯ä»¥åœ¨jsä»£ç è¿è¡Œæ—¶å€™åŠ¨æ€ä¿®æ”¹
  // to.meta.title, æ‹¿åˆ°router/index.jsé‡Œè·¯ç”±è§„åˆ™å¯¹è±¡ä¸­æå‰å­˜æ”¾çš„æ ‡é¢˜æ–‡å­—
  document.title = getPageTitle(to.meta.title)

  // determine whether the user has logged in
  const hasToken = getToken()

  if (hasToken) { // æœ‰token(å·²ç™»å½•)
    if (to.path === '/login') { // å·²ç™»å½•äº†è¿˜æƒ³å»è·³åˆ°ç™»å½•é¡µ
      next({ path: '/' }) // é‡æ–°å¼ºåˆ¶ç»™ä½ æ‰“å›åˆ°é¦–é¡µ
      NProgress.done() // è¿›åº¦æ¡å…³é—­
    } else { // å·²ç™»å½•ä¸å»ç™»å½•é¡µ(æ­£å¸¸é¡µé¢)
      const hasGetUserInfo = store.getters.name
      if (hasGetUserInfo) { // æœ‰ç”¨æˆ·ä¿¡æ¯->æ”¾è¡Œ
        next() // è¿™ä¸ªæ‰æ˜¯æ”¾è¡Œ->è®©è·¯ç”±é¡µé¢è·³è½¬
      } else {
        try {
          // å·²ç™»å½•(æœ‰token), ä½†æ˜¯æ— ç”¨æˆ·ä¿¡æ¯, è°ƒç”¨actionsé‡Œè¯·æ±‚æ‹¿åˆ°ç”¨æˆ·åå­—ç­‰
          // æ·»åŠ åˆ°vuexé‡Œ
          await store.dispatch('user/getInfo')
          // ç­‰å¾…ç½‘ç»œè¯·æ±‚æˆåŠŸ, æ”¾è¡Œåˆ°ä¸‹ä¸€ä¸ªæ­£æ–‡é¡µé¢

          next()
        } catch (error) {
          // æ¯”å¦‚tokenè¿‡æœŸ, ä¸Šé¢awaitåè¯·æ±‚å°±æŠ¥é”™
          // remove token and go to login page to re-login
          // é‡ç½®token(åˆ é™¤)
          await store.dispatch('user/resetToken')
          // ç»™ç”¨æˆ·ä¸€ä¸ªæç¤ºæ¡†
          Message.error(error || 'Has Error')
          // æ‰“å›åˆ°ç™»å½•é¡µé¢(tokenè¿‡æœŸ, å›å»é‡æ–°ç™»å½•)
          // ç»™ç™»å½•é¡µé¢è¿›è¡Œè·¯ç”±è·³è½¬ä¼ å‚(æŠŠæœ¬æ¥è¦å»çš„é¡µé¢to.pathåœ°å€ä¼ ç»™ç™»å½•é¡µé¢)
          // ç™»å½•åä¸ä¼šå»é¦–é¡µ, è€Œæ˜¯å»åˆ°åˆšæ‰æ²¡è¿‡å»çš„é‚£ä¸ªæœªé‚çš„é¡µé¢ä¸Š
          next(`/login?redirect=${to.path}`)
          NProgress.done()
        }
      }
    }
  } else { // æ— token
    if (whiteList.indexOf(to.path) !== -1) { // åœ¨ç™½åå•é‡Œ(ä¾‹å¦‚:ç™»å½•/login), æ”¾è¡Œ
      // includes()åˆ¤æ–­å­˜åœ¨è¿”å›true
      // indexOf()æŸ¥æ‰¾ä¸‹æ ‡
      next()
    } else {
      // æ— token(æ²¡ç™»å½•), è¿˜æƒ³å»æ­£å¸¸çš„é¡µé¢, æ‰“å›åˆ°ç™»å½•é¡µé¢æ¥
      // çŸ¥è¯†ç‚¹: next()é‡Œæœ‰è·¯å¾„, å°±ä¼šå†æ¬¡å‘ç”Ÿä¸€æ¬¡è·¯ç”±è·³è½¬, è·¯ç”±å®ˆå«ä¼šä»å¤´å†é‡æ–°æ‰§è¡Œä¸€é
      // ç‚¹å‡»ç™»å½•, å¦‚æœæœ‰redierctè·³è½¬åˆ°æœªé‚åœ°å€(å›åˆ°åˆšæ‰é¡µé¢)
      next(`/login?redirect=${to.path}`)
      NProgress.done()
    }
  }
})
// å…ˆè¯», åä»¿å†™, å†™å¤šäº†, è‡ªå·±æ‹¿åˆ°éœ€æ±‚æ ¹æ®ç›®æ ‡å†å†™

// å…¨å±€è·¯ç”±-åç½®å®ˆå«(è·¯ç”±è·³è½¬å®Œæˆ, å†è§¦å‘()é‡Œå‡½æ•°ä½“)
router.afterEach(() => {
  // è¿›åº¦æ¡å…³é—­
  NProgress.done()
})

// å¿ƒç†å‡†å¤‡: æ‹¿åˆ°ä¸€ä¸ªåŠæˆªé¡¹ç›® 1å¤©-1ä¸ªæœˆä½ ä¼šéå¸¸ç—›è‹¦
// æŒºè¿‡æ¥, çœ‹çœ‹. ç†Ÿæ‚‰äº†, å°±éå¸¸è½»æ¾....

```

### å°ç»“

1. permission.jsä½œç”¨æ˜¯ä»€ä¹ˆ?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>æ§åˆ¶è·¯ç”±æƒé™åˆ¤æ–­</li>
   <li>ç™»å½•å’Œéç™»å½•çš„ç›¸å…³è®¾ç½®</li>
   </ul>
   </details>



## 15.æ¨¡æ¿è®²è§£-settings.js

### ç›®æ ‡

åˆ†æ settings.js ä¸­ä»£ç çš„ä½œç”¨

### è®²è§£

settings.js ä¸»è¦ç”¨æ¥å¯¹é¡¹ç›®ä¿¡æ¯è¿›è¡Œé…ç½®ï¼Œé‡Œé¢æœ‰ä¸‰ä¸ªå±æ€§ï¼š

1.  `title`ï¼šé¡¹ç›®åç§°
2.  `fixedHeader`ï¼šå›ºå®šå¤´éƒ¨
3. `sidebarLogo`ï¼šæ˜¾ç¤ºå·¦ä¾§èœå•logo

```js
module.exports = {

  title: 'äººèµ„èµ„æºç®¡ç†å¹³å°',

  /**
   * @type {boolean} true | false
   * @description Whether fix the header
   */
  fixedHeader: false,

  /**
   * @type {boolean} true | false
   * @description Whether show the logo in sidebar
   */
  sidebarLogo: false
}
```

â€‹		

<img src="./images/Day01/010-æ ‡é¢˜è®¾ç½®.png" style="zoom:90%;" />



### å°ç»“

1. settings.jsçš„ä½œç”¨?

   <details>     
   <summary>ç­”æ¡ˆ</summary> 
   <ul>
   <li>å°è£…äº†å…¨å±€çš„ä¸€äº›å˜é‡, æ–¹ä¾¿ä¸€é”®ä¿®æ”¹</li>
   </ul>
   </details>



## 16.æ¨¡æ¿è®²è§£-scss-ä»‹ç»

### ç›®æ ‡

ä»€ä¹ˆæ˜¯ scss

### è®²è§£

#### scss çš„åŸºæœ¬ä½¿ç”¨

å’Œlessç±»ä¼¼, sass ä¹Ÿæ˜¯ä¸€ç§ CSS çš„é¢„ç¼–è¯‘è¯­è¨€

å®ƒæä¾›äº† å˜é‡ã€åµŒå¥—ã€ æ··åˆã€ å‡½æ•°ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”å®Œå…¨å…¼å®¹ CSS è¯­æ³•

è¯¦è§ [Scss  å®˜æ–¹æ–‡æ¡£](https://www.sass.hk/)



#### scss å’Œ sass çš„åŒºåˆ«

â€‹		sass å’Œ scss å…¶å®æ˜¯**`ä¸€æ ·çš„`**cssé¢„å¤„ç†è¯­è¨€ï¼Œscss æ˜¯ sass 3 å¼•å…¥æ–°çš„è¯­æ³•ï¼Œå…¶åç¼€åæ˜¯åˆ†åˆ«ä¸º .sass å’Œ .scss ä¸¤ç§ã€‚
â€‹		sass  ç‰ˆæœ¬ 3.0 ä¹‹å‰çš„åç¼€åä¸º .sass ï¼Œè€Œç‰ˆæœ¬ 3.0 ä¹‹åçš„åç¼€å. scss



#### scss-åŸºæœ¬è¯­æ³•

#### å˜é‡

1. å®šä¹‰å˜é‡

   ```scss
   $highlight-color: #f90;
   $basic-border: 1px solid black;
   ```

   

2. ä½¿ç”¨å˜é‡

   ```scss
   #app {
     background-color: $highlight-color;
     border: $basic-border;
   }
   ```

   

3. åœ¨åˆå§‹åŒ–çš„é¡¹ç›®ä¸­ï¼Œ **`styles/variables.scss`**è¿™ä¸ªæ–‡ä»¶ä¸­å°±æ˜¯æˆ‘ä»¬æœ¬æ¬¡é¡¹ç›®ç”¨åˆ°çš„æ‰€æœ‰ scss å˜é‡

   

   â€‹				  <img src="./images/Day01/011-scsså˜é‡.png" style="zoom:90%;" />



#### åµŒå¥—è¯­æ³•

è½¬æ¢ä¹‹å‰ï¼š

```scss
// scssè¯­æ³•
$highlight-color: #f90;
$basic-border: 1px solid black;

#app{
  background-color:  $highlight-color;
  border:$basic-border;

  .container{
    font-size:30px;
  }
}
```

è½¬æ¢ä¹‹åï¼š

```css
#app {
  background-color: #f90;
  border: 1px solid black;
}

#app .container {
  font-size: 30px;
}
```



#### &çˆ¶é€‰æ‹©å™¨

å‡å¦‚ä½ æƒ³é’ˆå¯¹æŸä¸ªç‰¹å®šå­å…ƒç´  è¿›è¡Œè®¾ç½®

```scss
$highlight-color: #f90;
$basic-border: 1px solid black;

#app {
  background-color:  $highlight-color;
  border:$basic-border;

  .container {
    font-size:30px;
  }

  a {
    color:blue;

    &:hover {
      color: red;
    }
  }
}
```



#### æ¨¡å—

å¤šä¸ª .scssæ–‡ä»¶å¯ä»¥ç›¸äº’å¼•ç”¨

å¼•å…¥.scsså¯ä»¥å¾—åˆ°é‡Œé¢çš„å˜é‡ç›´æ¥ç”¨



1. æ ¼å¼

   ```scss
   @import './xxxx.scss';
   ```

   

2. ä¾‹å¦‚

   ```scss
   // base.scss 
   
   $base-color: green;
   ```

   ```scss
   @import './base.scss';
   
   $highlight-color: #f90;
   $basic-border: 1px solid black;
   
   #app {
     background-color:  $base-color;
     border:$base-border;
   
     .container {
       font-size:30px;
     }
   
     a {
       color:blue;
   
       &:hover {
         color: red;
       }
     }
   }
   ```

   

### å°ç»“ 

1. scss çš„è¯­æ³•éå¸¸å¤šï¼Œæˆ‘ä»¬æœ€å¸¸ä½¿ç”¨çš„æœ‰å“ªäº›?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>å®šä¹‰å˜é‡</li>
   <li>åµŒå¥—ä½¿ç”¨</li>
   <li>ä½¿ç”¨&é€‰æ‹©å™¨</li>
   <li>æŠ½å–å˜é‡, è¿›è¡Œå¤ç”¨, @importå¼•å…¥</li>
   </ul>
   </details>



## 17.æ¨¡æ¿è®²è§£-scss

### ç›®æ ‡

äº†è§£ scss æ–‡ä»¶çš„ä½œç”¨

### è®²è§£

#### scss æ–‡ä»¶ç»„ç»‡æ–¹å¼

vue-admin-template  é¡¹ç›®ä½¿ç”¨äº†[scss ](https://www.sass.hk/)ä½œä¸º css çš„æ‰©å±•è¯­è¨€ï¼ŒScss æ–‡ä»¶ä¸»è¦æ”¾ç½®åœ¨**`styles`**ç›®å½•ä¸‹ï¼Œå…¶ä¸­ `index.scss` æ–‡ä»¶åœ¨å…¥å£æ–‡ä»¶ main.js æ–‡ä»¶ä¸­å·²ç»å¯¼å…¥

```js
import '@/styles/index.scss' // global css
```

å› ä¸ºæˆ‘ä»¬ä¸»è¦æ¥çœ‹ä¸€ä¸‹ index.scss æ–‡ä»¶ï¼Œä¼šå‘ç°è¿™ä¸ªæ–‡ä»¶å°†å…¶ä»–æ–‡ä»¶éƒ½å·²ç»ä½¿ç”¨ @import æ–¹æ³•è¿›è¡Œäº†å¯¼å…¥

```js
@import './variables.scss';
@import './mixin.scss';
@import './transition.scss';
@import './element-ui.scss';
@import './sidebar.scss';

// å…¶ä»–ä»£ç ç•¥
```

å„ä¸ªæ–‡ä»¶çš„å…·ä½“ä½œç”¨ï¼Œçœ‹ä¸‹å›¾



â€‹									<img src="./images/Day01/012-stylesæ ·å¼.png" style="zoom: 90%;" />







### å°ç»“

1. index.scssçš„æ–‡ä»¶æœ‰ä»€ä¹ˆä½œç”¨?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>è´Ÿè´£æŠŠå…¶ä»–çš„scssæ–‡ä»¶, é›†ä¸­å¯¼å…¥, ç„¶ååœ¨main.jsé›†ä¸­æ³¨å…¥</li>
   </ul>
   </details>



## 18.ç¯å¢ƒå˜é‡

### ç›®æ ‡

åœ¨ä¸åŒç¯å¢ƒè‡ªé€‚åº”å–å€¼ä½¿ç”¨

åŒºåˆ†çº¿ä¸Šå’Œçº¿ä¸‹ç¯å¢ƒ

### è®²è§£

æœ¬åœ°æœåŠ¡ç«¯å£éœ€è¦åœ¨`vue.config.js`ä¸­è¿›è¡Œè®¾ç½®ï¼Œè¯¦è§ [Vue-cli å®˜æ–¹æ–‡æ¡£](https://cli.vuejs.org/zh/guide/webpack.html)

```js
const port = process.env.port || process.env.npm_config_port || 9528 // dev port
```

 **`process.env.port`**æ˜¯ä¸€ä¸ª nodejs æœåŠ¡ä¸‹çš„ç¯å¢ƒå˜é‡

åœ¨**`.env.development`**å’Œ**`.env.production`**ä¸¤ä¸ªæ–‡ä»¶åŒºåˆ†ç¯å¢ƒ

1.  development => å¼€å‘ç¯å¢ƒ => è¿è¡Œnpm run dev => åŠ è½½.env.developmentå†…å®¹

2.  production     => ç”Ÿäº§ç¯å¢ƒ => è¿è¡Œ npm run build:prod => åŠ è½½.env.productionå†…å®¹

==æˆ‘ä»¬å»å¯¹åº”çš„ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ä¸­è®¾ç½®portç«¯å£å·, æ•²å‡»ä¸åŒçš„å‘½ä»¤, æŸ¥çœ‹æ•ˆæœ==



### å°ç»“

1. ç¯å¢ƒå˜é‡çš„ä½œç”¨æ˜¯ä»€ä¹ˆ?

   <details>
   <summary>ç­”æ¡ˆ</summary>
   <ul>
   <li>åœ¨é…ç½®æ–‡ä»¶ä¸­, æ·»åŠ keyå’Œvalue, ç„¶åæ ¹æ®æ•²å‡»çš„å‘½ä»¤, åŠ è½½ä¸åŒçš„å˜é‡çš„å€¼åœ¨ä»£ç é‡Œç”Ÿæ•ˆ</li>
   </ul>
   </details>



## ä»Šæ—¥æ€»ç»“

1. æ‹¿åˆ°é¡¹ç›®æ€ä¹ˆåŠT.T?

   * å…ˆå¯åŠ¨è·‘èµ·æ¥(é‡åˆ°æŠ¥é”™, å°±æƒ³åŠæ³•å¹²æ‰ä»–)
     * è®¿é—®æ— æ•°æ®/å¯èƒ½æ˜¯å…¬å¸å±€åŸŸç½‘/åªèƒ½åœ¨å…¬å¸å±€åŸŸç½‘å¯åŠ¨é¡¹ç›®
     * å…¬å¸å†…éƒ¨çš„åŒ…, ç”¨npm/yarnéƒ½ä¸‹ä¸åˆ°, éœ€è¦æŠŠnpm/yarnçš„é•œåƒåœ°å€åˆ‡æ¢åˆ°å…¬å¸å†…éƒ¨æœåŠ¡å™¨

   * é¡¹ç›®æ–‡ä»¶å¤¹å‡ å, å‡ ç™¾, å‡ åƒä¸ª

     * å…ˆç†Ÿæ‚‰å°è£…çš„å·¥å…· / å…ˆä¸ç”¨ç®¡å…·ä½“é¡µé¢ (å› ä¸ºå¯èƒ½ä¸ä¼šç»™ä½ åˆ†å…·ä½“çš„éœ€æ±‚å’Œè´Ÿè´£çš„æ¨¡å—)

     * å…ˆä»main.jså…¥å£å¼€å§‹ (å°ç¨‹åº/react/uniapp/å…¶ä»–æ¡†æ¶) éƒ½å…ˆæ‰¾åˆ°å…¥å£

       > å¯ä»¥ç”¨xmindæ„å»ºé¡¹ç›®æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å…³ç³», æ¯ä¸ªæ–‡ä»¶çš„ä¸»è¦ä½œç”¨è§£é‡Š

     * é¡ºè…¾æ‘¸ç“œ, æŒ¨ä¸ªå†™æ³¨é‡Š

2. çœ‹ä»£ç è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜

   (1): æŸä¸ªæ–¹æ³•/å±æ€§ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ - ä½†æ˜¯æ˜¯APIçš„, å¤šæŸ¥æ–‡æ¡£, 

   (2): æ‰¾ä¸åˆ°å“ªé‡Œç”¨è¿‡, å¤šç”¨vscodeå·¦ä¾§çš„æ”¾å¤§é•œåŠŸèƒ½æœç´¢

   (3): ä¸çŸ¥é“ä»€ä¹ˆä½œç”¨, å¯ä»¥éšä¾¿æ”¹ä¸ªå€¼, çœ‹çœ‹é¡µé¢å“ªé‡Œå‘ç”Ÿäº†å˜åŒ–

   (4): æ‰¾åˆ°æ ‡ç­¾å¯¹åº”é¡µé¢é‚£ä¸€éƒ¨åˆ†, è¿˜å¯ä»¥é€šè¿‡å…³é”®ç±»å

## å¸¸è§çš„æŠ¥é”™

https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/other/faq.html#node-sass-%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%EF%BC%9F

### sshæ— æƒé™

æ–¹æ¡ˆ1:  è¯•è¯•æ”¹æˆhttpsæ–¹å¼ä¸‹åŒ…



<img src="./images/Day01/013-é¡¹ç›®æ¨¡æ¿æŠ¥é”™è§£å†³æ–¹å¼.png" style="zoom: 90%;" />



æ–¹æ¡ˆ2: å¦‚æœæ²¡æœ‰.gitconfigæ²¡æœ‰é…ç½®é¡¹, è‡ªå·±æ·»åŠ ä¸€ä¸ª, ç„¶åé‡å¯ç»ˆç«¯, æˆ–è€…çœ‹çœ‹åˆ«çš„

https://www.bilibili.com/video/bv1Vq4y1k71U



æ–¹æ¡ˆ3: å¯ä»¥çœ‹çœ‹è¿™é‡Œæœ‰æ²¡æœ‰æƒ³è¦çš„

https://github.com/PanJiaChen/vue-element-admin/issues/3491



æ–¹æ¡ˆ4: é‚£å°±è€è€å®å®é…ç½®github.comçš„sshç§˜é’¥å§

æœ¬åœ°ç”Ÿæˆç§˜é’¥

æŠŠ.pubå…¬é’¥é…ç½®åˆ°github.comç½‘ç«™ä¸Š(æ²¡è´¦å·æ³¨å†Œä¸€ä¸ª)-å¯èƒ½ç½‘é€Ÿå¾ˆæ…¢å¤šç­‰ä¼š, å¤šåˆ·æ–°ä¸‹

https://www.jianshu.com/p/c75dafdd3078



æ–¹æ¡ˆ5: ç»ˆæå¤§æ‹›- æŠŠåˆ«äººå¥½ä½¿çš„node_modulesæ–‡ä»¶å¤¹æ‹¿è¿‡æ¥, ä¸ç”¨ä¸‹äº†, ç›´æ¥æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹, ç›´æ¥ä½¿ç”¨, å¯åŠ¨é¡¹ç›®å³å¯



